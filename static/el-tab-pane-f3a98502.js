import{b as e,g as t,a0 as a,d as l,h as n,j as s,u as o,r,R as i,a2 as u,Z as c,a as d,c as p,n as b,f as v,aa as m,_ as f,bo as g,bp as h,y,o as w,aR as x,C as E,E as F,au as k,P as S,x as C,K as P,p as $,bq as T,e as N,aI as R,V as _,a7 as B,br as q,bs as j,Q as A,aH as z,D as L,I as K,H as M,s as V,v as H,w as I,an as D}from"./index-1f640676.js";import{t as O,U}from"./event-15d81b97.js";import{c as G}from"./strings-f7f4cb74.js";import{u as Q}from"./index-8441b0f3.js";import{u as W}from"./el-button-dbdb681c.js";import"./el-tooltip-4ed993c7.js";import{E as X}from"./el-popper-2430518e.js";import{_ as Y}from"./index-1a427f94.js";import{_ as Z}from"./_plugin-vue_export-helper-1b428a4d.js";const J=Symbol("tabsRootContextKey"),ee=e({tabs:{type:t(Array),default:()=>a([])}}),te="ElTabBar",ae=l({name:te});var le=f(l({...ae,props:ee,setup(e,{expose:t}){const a=e,l=n(),f=s(J);f||O(te,"<el-tabs><el-tab-bar /></el-tabs>");const g=o("tabs"),h=r(),y=r(),w=()=>y.value=(()=>{let e=0,t=0;const n=["top","bottom"].includes(f.props.tabPosition)?"width":"height",s="width"===n?"x":"y",o="x"===s?"left":"top";return a.tabs.every((s=>{var r,i;const u=null==(i=null==(r=l.parent)?void 0:r.refs)?void 0:i[`tab-${s.uid}`];if(!u)return!1;if(!s.active)return!0;e=u[`offset${G(o)}`],t=u[`client${G(n)}`];const c=window.getComputedStyle(u);return"width"===n&&(a.tabs.length>1&&(t-=Number.parseFloat(c.paddingLeft)+Number.parseFloat(c.paddingRight)),e+=Number.parseFloat(c.paddingLeft)),!1})),{[n]:`${t}px`,transform:`translate${G(s)}(${e}px)`}})();return i((()=>a.tabs),(async()=>{await u(),w()}),{immediate:!0}),c(h,(()=>w())),t({ref:h,update:w}),(e,t)=>(d(),p("div",{ref_key:"barRef",ref:h,class:b([v(g).e("active-bar"),v(g).is(v(f).props.tabPosition)]),style:m(y.value)},null,6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const ne=e({panes:{type:t(Array),default:()=>a([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),se="ElTabNav",oe=l({name:se,props:ne,emits:{tabClick:(e,t,a)=>a instanceof Event,tabRemove:(e,t)=>t instanceof Event},setup(e,{expose:t,emit:a}){const l=n(),d=s(J);d||O(se,"<el-tabs><tab-nav /></el-tabs>");const p=o("tabs"),b=g(),v=h(),m=r(),f=r(),$=r(),T=r(),N=r(!1),R=r(0),_=r(!1),B=r(!0),q=y((()=>["top","bottom"].includes(d.props.tabPosition)?"width":"height")),j=y((()=>({transform:`translate${"width"===q.value?"X":"Y"}(-${R.value}px)`}))),A=()=>{if(!m.value)return;const e=m.value[`offset${G(q.value)}`],t=R.value;if(!t)return;const a=t>e?t-e:0;R.value=a},z=()=>{if(!m.value||!f.value)return;const e=f.value[`offset${G(q.value)}`],t=m.value[`offset${G(q.value)}`],a=R.value;if(e-a<=t)return;const l=e-a>2*t?a+t:e-t;R.value=l},L=async()=>{const e=f.value;if(!(N.value&&$.value&&m.value&&e))return;await u();const t=$.value.querySelector(".is-active");if(!t)return;const a=m.value,l=["top","bottom"].includes(d.props.tabPosition),n=t.getBoundingClientRect(),s=a.getBoundingClientRect(),o=l?e.offsetWidth-s.width:e.offsetHeight-s.height,r=R.value;let i=r;l?(n.left<s.left&&(i=r-(s.left-n.left)),n.right>s.right&&(i=r+n.right-s.right)):(n.top<s.top&&(i=r-(s.top-n.top)),n.bottom>s.bottom&&(i=r+(n.bottom-s.bottom))),i=Math.max(i,0),R.value=Math.min(i,o)},K=()=>{var t;if(!f.value||!m.value)return;e.stretch&&(null==(t=T.value)||t.update());const a=f.value[`offset${G(q.value)}`],l=m.value[`offset${G(q.value)}`],n=R.value;l<a?(N.value=N.value||{},N.value.prev=n,N.value.next=n+l<a,a-n<l&&(R.value=a-l)):(N.value=!1,n>0&&(R.value=0))},M=e=>{const t=e.code,{up:a,down:l,left:n,right:s}=P;if(![a,l,n,s].includes(t))return;const o=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),r=o.indexOf(e.target);let i;i=t===n||t===a?0===r?o.length-1:r-1:r<o.length-1?r+1:0,o[i].focus({preventScroll:!0}),o[i].click(),V()},V=()=>{B.value&&(_.value=!0)},H=()=>_.value=!1;return i(b,(e=>{"hidden"===e?B.value=!1:"visible"===e&&setTimeout((()=>B.value=!0),50)})),i(v,(e=>{e?setTimeout((()=>B.value=!0),50):B.value=!1})),c($,K),w((()=>setTimeout((()=>L()),0))),x((()=>K())),t({scrollToActiveTab:L,removeFocus:H}),i((()=>e.panes),(()=>l.update()),{flush:"post",deep:!0}),()=>{const t=N.value?[E("span",{class:[p.e("nav-prev"),p.is("disabled",!N.value.prev)],onClick:A},[E(F,null,{default:()=>[E(k,null,null)]})]),E("span",{class:[p.e("nav-next"),p.is("disabled",!N.value.next)],onClick:z},[E(F,null,{default:()=>[E(S,null,null)]})])]:null,l=e.panes.map(((t,l)=>{var n,s,o,r;const i=t.uid,u=t.props.disabled,c=null!=(s=null!=(n=t.props.name)?n:t.index)?s:`${l}`,b=!u&&(t.isClosable||e.editable);t.index=`${l}`;const v=b?E(F,{class:"is-icon-close",onClick:e=>a("tabRemove",t,e)},{default:()=>[E(C,null,null)]}):null,m=(null==(r=(o=t.slots).label)?void 0:r.call(o))||t.props.label,f=!u&&t.active?0:-1;return E("div",{ref:`tab-${i}`,class:[p.e("item"),p.is(d.props.tabPosition),p.is("active",t.active),p.is("disabled",u),p.is("closable",b),p.is("focus",_.value)],id:`tab-${c}`,key:`tab-${i}`,"aria-controls":`pane-${c}`,role:"tab","aria-selected":t.active,tabindex:f,onFocus:()=>V(),onBlur:()=>H(),onClick:e=>{H(),a("tabClick",t,c,e)},onKeydown:e=>{!b||e.code!==P.delete&&e.code!==P.backspace||a("tabRemove",t,e)}},[m,v])}));return E("div",{ref:$,class:[p.e("nav-wrap"),p.is("scrollable",!!N.value),p.is(d.props.tabPosition)]},[t,E("div",{class:p.e("nav-scroll"),ref:m},[E("div",{class:[p.e("nav"),p.is(d.props.tabPosition),p.is("stretch",e.stretch&&["top","bottom"].includes(d.props.tabPosition))],ref:f,style:j.value,role:"tablist",onKeydown:M},[e.type?null:E(le,{ref:T,tabs:[...e.panes]},null),l])])])}}}),re=e({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:t(Function),default:()=>!0},stretch:Boolean}),ie=e=>_(e)||B(e);var ue=l({name:"ElTabs",props:re,emits:{[U]:e=>ie(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>ie(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>ie(e),tabAdd:()=>!0},setup(e,{emit:t,slots:a,expose:l}){var s,c;const d=o("tabs"),{children:p,addChild:b,removeChild:v}=Q(n(),"ElTabPane"),m=r(),f=r(null!=(c=null!=(s=e.modelValue)?s:e.activeName)?c:"0"),g=async a=>{var l,n,s;if(f.value!==a&&!R(a))try{!1!==await(null==(l=e.beforeLeave)?void 0:l.call(e,a,f.value))&&((e=>{f.value=e,t(U,e),t("tabChange",e)})(a),null==(s=null==(n=m.value)?void 0:n.removeFocus)||s.call(n))}catch(o){}},h=(e,a,l)=>{e.props.disabled||(g(a),t("tabClick",e,l))},w=(e,a)=>{e.props.disabled||R(e.props.name)||(a.stopPropagation(),t("edit",e.props.name,"remove"),t("tabRemove",e.props.name))},x=()=>{t("edit",void 0,"add"),t("tabAdd")};return W({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},y((()=>!!e.activeName))),i((()=>e.activeName),(e=>g(e))),i((()=>e.modelValue),(e=>g(e))),i(f,(async()=>{var e;await u(),null==(e=m.value)||e.scrollToActiveTab()})),$(J,{props:e,currentName:f,registerPane:b,unregisterPane:v}),l({currentName:f}),()=>{const t=e.editable||e.addable?E("span",{class:d.e("new-tab"),tabindex:"0",onClick:x,onKeydown:e=>{e.code===P.enter&&x()}},[E(F,{class:d.is("icon-plus")},{default:()=>[E(T,null,null)]})]):null,l=E("div",{class:[d.e("header"),d.is(e.tabPosition)]},[t,E(oe,{ref:m,currentName:f.value,editable:e.editable,type:e.type,panes:p.value,stretch:e.stretch,onTabClick:h,onTabRemove:w},null)]),n=E("div",{class:d.e("content")},[N(a,"default")]);return E("div",{class:[d.b(),d.m(e.tabPosition),{[d.m("card")]:"card"===e.type,[d.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[l,n]:[n,l]])}}});const ce=e({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),de=["id","aria-hidden","aria-labelledby"],pe="ElTabPane",be=l({name:pe});var ve=f(l({...be,props:ce,setup(e){const t=e,a=n(),l=q(),u=s(J);u||O(pe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const c=o("tab-pane"),m=r(),f=y((()=>t.closable||u.props.closable)),g=j((()=>{var e;return u.currentName.value===(null!=(e=t.name)?e:m.value)})),h=r(g.value),x=y((()=>{var e;return null!=(e=t.name)?e:m.value})),E=j((()=>!t.lazy||h.value||g.value));i(g,(e=>{e&&(h.value=!0)}));const F=A({uid:a.uid,slots:l,props:t,paneName:x,active:g,index:m,isClosable:f});return w((()=>{u.registerPane(F)})),z((()=>{u.unregisterPane(F.uid)})),(e,t)=>v(E)?L((d(),p("div",{key:0,id:`pane-${v(x)}`,class:b(v(c).b()),role:"tabpanel","aria-hidden":!v(g),"aria-labelledby":`tab-${v(x)}`},[N(e.$slots,"default")],10,de)),[[K,v(g)]]):M("v-if",!0)}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const me=V(ue,{TabPane:ve}),fe=H(ve),ge=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],he=(()=>{if("undefined"==typeof document)return!1;const e=ge[0],t={};for(const a of ge){if((null==a?void 0:a[1])in document){for(const[l,n]of a.entries())t[e[l]]=n;return t}}return!1})(),ye={change:he.fullscreenchange,error:he.fullscreenerror};let we={request:(e=document.documentElement,t)=>new Promise(((a,l)=>{const n=()=>{we.off("change",n),a()};we.on("change",n);const s=e[he.requestFullscreen](t);s instanceof Promise&&s.then(n).catch(l)})),exit:()=>new Promise(((e,t)=>{if(!we.isFullscreen)return void e();const a=()=>{we.off("change",a),e()};we.on("change",a);const l=document[he.exitFullscreen]();l instanceof Promise&&l.then(a).catch(t)})),toggle:(e,t)=>we.isFullscreen?we.exit():we.request(e,t),onchange(e){we.on("change",e)},onerror(e){we.on("error",e)},on(e,t){const a=ye[e];a&&document.addEventListener(a,t,!1)},off(e,t){const a=ye[e];a&&document.removeEventListener(a,t,!1)},raw:he};Object.defineProperties(we,{isFullscreen:{get:()=>Boolean(document[he.fullscreenElement])},element:{enumerable:!0,get:()=>document[he.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[he.fullscreenEnabled])}}),he||(we={isEnabled:!1});const xe=we,Ee=Z(l({__name:"index",props:{element:{type:String,default:"html"},openTips:{type:String,default:"全屏"},exitTips:{type:String,default:"退出全屏"}},setup(e){const t=e,a=r(t.openTips),l=r(!1),n=()=>{const e=document.querySelector(t.element)||void 0;xe.isEnabled?xe.toggle(e):D.warning("您的浏览器无法工作")},s=()=>{l.value=xe.isFullscreen,a.value=xe.isFullscreen?t.exitTips:t.openTips};return xe.on("change",s),z((()=>{xe.isEnabled&&xe.off("change",s)})),(e,t)=>{const s=Y,o=X;return d(),p("div",{onClick:n},[E(o,{effect:"dark",content:a.value,placement:"bottom"},{default:I((()=>[E(s,{name:l.value?"i-ri-fullscreen-exit-fill":"i-ri-fullscreen-fill"},null,8,["name"])])),_:1},8,["content"])])}}}),[["__scopeId","data-v-1fab323e"]]);export{fe as E,Ee as _,me as a};
