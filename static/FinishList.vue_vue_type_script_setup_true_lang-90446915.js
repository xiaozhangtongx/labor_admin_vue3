import{d as e,j as l,A as t,u as a,U as s,b as r,f as o,a as n,c as i,k as u,W as p,ag as d,l as c,C as f,_ as v,b4 as m,aV as y,p as b,y as g,n as h,e as w,a4 as _,q as k,H as S,s as I,v as x,b5 as L,w as j,ao as E,r as N,Q as z,B as C,F as T}from"./index-93ba5881.js";import{E as $}from"./el-dialog-ed8dcbdc.js";import{g as A,f as D}from"./el-overlay-18efe7aa.js";import{E as q}from"./el-scrollbar-74e7d0b5.js";import{E as R}from"./el-tag-5e952519.js";import{b as V,E as O}from"./el-button-48d46b72.js";import{i as W}from"./focus-trap-c8e74f19.js";const B=Symbol("elDescriptions");var G=e({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup:()=>({descriptions:l(B,{})}),render(){var e,l,r,o,n,i;const u=A(this.cell),{border:p,direction:d}=this.descriptions,c="vertical"===d,f=(null==(r=null==(l=null==(e=this.cell)?void 0:e.children)?void 0:l.label)?void 0:r.call(l))||u.label,v=null==(i=null==(n=null==(o=this.cell)?void 0:o.children)?void 0:n.default)?void 0:i.call(n),m=u.span,y=u.align?`is-${u.align}`:"",b=u.labelAlign?`is-${u.labelAlign}`:y,g=u.className,h=u.labelClassName,w={width:t(u.width),minWidth:t(u.minWidth)},_=a("descriptions");switch(this.type){case"label":return s(this.tag,{style:w,class:[_.e("cell"),_.e("label"),_.is("bordered-label",p),_.is("vertical-label",c),b,h],colSpan:c?m:1},f);case"content":return s(this.tag,{style:w,class:[_.e("cell"),_.e("content"),_.is("bordered-content",p),_.is("vertical-content",c),y,g],colSpan:c?m:2*m-1},v);default:return s("td",{style:w,class:[_.e("cell"),y],colSpan:m},[W(f)?void 0:s("span",{class:[_.e("label"),h]},f),s("span",{class:[_.e("content"),g]},v)])}}});const H=r({row:{type:Array,default:()=>[]}}),P={key:1},U=e({name:"ElDescriptionsRow"});var F=v(e({...U,props:H,setup(e){const t=l(B,{});return(e,l)=>"vertical"===o(t).direction?(n(),i(p,{key:0},[u("tr",null,[(n(!0),i(p,null,d(e.row,((e,l)=>(n(),c(o(G),{key:`tr1-${l}`,cell:e,tag:"th",type:"label"},null,8,["cell"])))),128))]),u("tr",null,[(n(!0),i(p,null,d(e.row,((e,l)=>(n(),c(o(G),{key:`tr2-${l}`,cell:e,tag:"td",type:"content"},null,8,["cell"])))),128))])],64)):(n(),i("tr",P,[(n(!0),i(p,null,d(e.row,((e,l)=>(n(),i(p,{key:`tr3-${l}`},[o(t).border?(n(),i(p,{key:0},[f(o(G),{cell:e,tag:"td",type:"label"},null,8,["cell"]),f(o(G),{cell:e,tag:"td",type:"content"},null,8,["cell"])],64)):(n(),c(o(G),{key:1,cell:e,tag:"td",type:"both"},null,8,["cell"]))],64)))),128))]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const Q=r({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:m,title:{type:String,default:""},extra:{type:String,default:""}}),J=e({name:"ElDescriptions"});var K=v(e({...J,props:Q,setup(e){const l=e,t=a("descriptions"),s=V(),r=y();b(B,l);const f=g((()=>[t.b(),t.m(s.value)])),v=(e,l,t,a=!1)=>(e.props||(e.props={}),l>t&&(e.props.span=t),a&&(e.props.span=l),e),m=()=>{var e;const t=D(null==(e=r.default)?void 0:e.call(r)).filter((e=>{var l;return"ElDescriptionsItem"===(null==(l=null==e?void 0:e.type)?void 0:l.name)})),a=[];let s=[],o=l.column,n=0;return t.forEach(((e,r)=>{var i;const u=(null==(i=e.props)?void 0:i.span)||1;if(r<t.length-1&&(n+=u>o?o:u),r===t.length-1){const t=l.column-n%l.column;return s.push(v(e,t,o,!0)),void a.push(s)}u<o?(o-=u,s.push(e)):(s.push(v(e,u,o)),a.push(s),o=l.column,s=[])})),a};return(e,l)=>(n(),i("div",{class:h(o(f))},[e.title||e.extra||e.$slots.title||e.$slots.extra?(n(),i("div",{key:0,class:h(o(t).e("header"))},[u("div",{class:h(o(t).e("title"))},[w(e.$slots,"title",{},(()=>[_(k(e.title),1)]))],2),u("div",{class:h(o(t).e("extra"))},[w(e.$slots,"extra",{},(()=>[_(k(e.extra),1)]))],2)],2)):S("v-if",!0),u("div",{class:h(o(t).e("body"))},[u("table",{class:h([o(t).e("table"),o(t).is("bordered",e.border)])},[u("tbody",null,[(n(!0),i(p,null,d(m(),((e,l)=>(n(),c(F,{key:l,row:e},null,8,["row"])))),128))])],2)],2)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),M=e({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const X=I(K,{DescriptionsItem:M}),Y=x(M);function Z(e){return L({url:"sys-flow/approval/list",method:"get",params:e})}function ee(e){return L({url:"sys-flow/approval/update",method:"put",data:e})}const le=e({__name:"index",props:{status:{type:Number,required:!0},statusList:{type:Array,require:!0}},setup(e){const l=e,t=l.statusList[l.status].type,a=l.statusList[l.status].value;return(e,l)=>{const s=R;return n(),c(s,{type:o(t),effect:"plain"},{default:j((()=>[u("span",null,k(o(a)),1)])),_:1},8,["type"])}}}),te=u("span",{class:"i-carbon-task-view mr-1"},null,-1),ae={class:"flow-leave"},se=e({name:"VxeTable"}),re=e({...se,setup(e){const l=E(),t=[{id:0,type:"",value:"病假"},{id:1,type:"success",value:"婚假"},{id:2,type:"info",value:"丧假"},{id:3,type:"warning",value:"产假"},{id:4,type:"danger",value:"其它"}],a=[{id:0,type:"success",value:"同意"},{id:1,type:"danger",value:"拒绝"}],s=N(),r=N(!1),o=N(),p=z({loading:!0,border:!0,autoResize:!0,showHeaderOverflow:!0,showOverflow:!0,keepSource:!0,columnConfig:{resizable:!0},pagerConfig:{align:"right"},toolbarConfig:{refresh:!0,custom:!0,zoom:!0},columns:[{type:"seq",width:"50px",title:"序号"},{field:"flowLeaveInfo.proposer.username",title:"申请人"},{field:"applicationType",title:"申请类型",slots:{default:"application-type"}},{field:"approvalResult",title:"审批结果",slots:{default:"approval-result"}},{field:"flowLeaveInfo.createTime",title:"申请时间"},{field:"updateTime",title:"处理时间"},{title:"操作",width:"200px",fixed:"right",showOverflow:!1,slots:{default:"row-operate"}}],proxyConfig:{seq:!0,form:!0,props:{total:"total"},ajax:{query:({page:e})=>(p.loading=!0,new Promise((t=>{var a;let s=0,r=[];const o=e=>{if(e&&e.data){const l=e.data;Number.isInteger(l.total)&&(s=l.total),Array.isArray(l.records)&&(r=l.records)}p.loading=!1,t({total:s,result:r})};Z({approverId:null==(a=l.userInfo)?void 0:a.id,status:0,applicationType:"0",size:e.pageSize,current:e.currentPage}).then(o).catch(o)})))}}});return(e,l)=>{const d=O,c=C("vxe-grid"),v=Y,m=R,y=X,b=q,g=$;return n(),i("div",null,[f(c,T({ref_key:"xGridDom",ref:o},p),{"application-type":j((({row:e})=>[f(le,{status:parseInt(e.applicationType),"status-list":t},null,8,["status"])])),"approval-result":j((({row:e})=>[f(le,{status:parseInt(e.approvalResult),"status-list":a},null,8,["status"])])),"row-operate":j((({row:e})=>[f(d,{link:"",type:"primary",onClick:l=>(e=>{s.value=e,r.value=!0})(e)},{default:j((()=>[te,_(" 查看详情 ")])),_:2},1032,["onClick"])])),_:1},16),f(g,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),title:"申请详情",width:"40%",draggable:"","destroy-on-close":""},{default:j((()=>[f(b,null,{default:j((()=>[u("div",ae,[f(y,{title:"申请人信息",column:2,"label-align":"right"},{default:j((()=>[f(v,{label:"姓名"},{default:j((()=>[_(k(s.value.flowLeaveInfo.proposer.username),1)])),_:1}),f(v,{label:"手机号码"},{default:j((()=>[_(k(s.value.flowLeaveInfo.proposer.phoneNum),1)])),_:1}),f(v,{label:"部门"},{default:j((()=>[_(" Suzhou ")])),_:1}),f(v,{label:"职位"},{default:j((()=>[f(m,{size:"small"},{default:j((()=>[_(" School ")])),_:1})])),_:1})])),_:1}),f(y,{title:"申请表单",column:2,border:""},{default:j((()=>[f(v,{label:"申请时间"},{default:j((()=>[_(k(s.value.flowLeaveInfo.createTime),1)])),_:1}),f(v,{label:"请假时长"},{default:j((()=>[_(k(s.value.flowLeaveInfo.duration)+" 天 ",1)])),_:1}),f(v,{label:"请假开始时间"},{default:j((()=>[_(k(s.value.flowLeaveInfo.startTime),1)])),_:1}),f(v,{label:"请假结束时间"},{default:j((()=>[_(k(s.value.flowLeaveInfo.endTime),1)])),_:1}),f(v,{label:"申请原因"},{default:j((()=>[_(k(s.value.flowLeaveInfo.reason),1)])),_:1})])),_:1}),f(y,{title:"审批详情",column:2,class:"mt-3"},{default:j((()=>[f(v,{label:"审批结果"},{default:j((()=>[f(le,{status:parseInt(s.value.approvalResult),"status-list":a},null,8,["status"])])),_:1}),f(v,{label:"审批时间"},{default:j((()=>[_(k(s.value.updateTime),1)])),_:1}),f(v,{label:"审批意见"},{default:j((()=>[_(k(s.value.reason),1)])),_:1})])),_:1})])])),_:1})])),_:1},8,["modelValue"])])}}});export{Y as E,re as _,le as a,X as b,Z as g,ee as s};
