import{o as e,Y as s,S as o,A as t,d as a,z as l,j as n,y as r,a as d,c as i,k as c,e as u,n as f,f as m,q as p,C as v,w as g,l as b,m as h,E as y,H as C,aa as k,_ as E,cp as R,bB as $,u as w,r as A,p as L,D as _,F,ar as M,I,T as x,J as j,s as B}from"./index-6bedee7a.js";import{e as Y,h as S,d as T,a as X,u as q,E as z,c as D}from"./el-overlay-6a5b9793.js";import{F as P,c as H,E as J}from"./focus-trap-655ad7f2.js";import{u as U}from"./el-button-6185c98d.js";const K=(a,l,n)=>{let r={offsetX:0,offsetY:0};const d=e=>{const s=e.clientX,o=e.clientY,{offsetX:l,offsetY:n}=r,d=a.value.getBoundingClientRect(),i=d.left,c=d.top,u=d.width,f=d.height,m=document.documentElement.clientWidth,p=document.documentElement.clientHeight,v=-i+l,g=-c+n,b=m-i-u+l,h=p-c-f+n,y=e=>{const d=Math.min(Math.max(l+e.clientX-s,v),b),i=Math.min(Math.max(n+e.clientY-o,g),h);r={offsetX:d,offsetY:i},a.value.style.transform=`translate(${t(d)}, ${t(i)})`},C=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",C)},i=()=>{l.value&&a.value&&l.value.removeEventListener("mousedown",d)};e((()=>{s((()=>{n.value?l.value&&a.value&&l.value.addEventListener("mousedown",d):i()}))})),o((()=>{i()}))},O=Symbol("dialogInjectionKey"),W=["aria-label"],G=["id"],N=a({name:"ElDialogContent"});var Q=E(a({...N,props:Y,emits:S,setup(e){const s=e,{t:o}=l(),{Close:t}=R,{dialogRef:a,headerRef:E,bodyId:$,ns:w,style:A}=n(O),{focusTrapRef:L}=n(P),_=H(L,a),F=r((()=>s.draggable));return K(a,E,F),(e,s)=>(d(),i("div",{ref:m(_),class:f([m(w).b(),m(w).is("fullscreen",e.fullscreen),m(w).is("draggable",m(F)),m(w).is("align-center",e.alignCenter),{[m(w).m("center")]:e.center},e.customClass]),style:k(m(A)),tabindex:"-1"},[c("header",{ref_key:"headerRef",ref:E,class:f(m(w).e("header"))},[u(e.$slots,"header",{},(()=>[c("span",{role:"heading",class:f(m(w).e("title"))},p(e.title),3)])),e.showClose?(d(),i("button",{key:0,"aria-label":m(o)("el.dialog.close"),class:f(m(w).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[v(m(y),{class:f(m(w).e("close"))},{default:g((()=>[(d(),b(h(e.closeIcon||m(t))))])),_:1},8,["class"])],10,W)):C("v-if",!0)],2),c("div",{id:m($),class:f(m(w).e("body"))},[u(e.$slots,"default")],10,G),e.$slots.footer?(d(),i("footer",{key:0,class:f(m(w).e("footer"))},[u(e.$slots,"footer")],2)):C("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const V=["aria-label","aria-labelledby","aria-describedby"],Z=a({name:"ElDialog",inheritAttrs:!1});const ee=B(E(a({...Z,props:T,emits:X,setup(e,{expose:s}){const o=e,t=$();U({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},r((()=>!!t.title))),U({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},r((()=>!!o.customClass)));const a=w("dialog"),l=A(),n=A(),i=A(),{visible:p,titleId:h,bodyId:y,style:E,overlayDialogStyle:R,rendered:B,zIndex:Y,afterEnter:S,afterLeave:T,beforeLeave:X,handleClose:P,onModalClick:H,onOpenAutoFocus:K,onCloseAutoFocus:W,onCloseRequested:G,onFocusoutPrevented:N}=q(o,l);L(O,{dialogRef:l,headerRef:n,bodyId:y,ns:a,rendered:B,style:E});const Z=D(H),ee=r((()=>o.draggable&&!o.fullscreen));return s({visible:p,dialogContentRef:i}),(e,s)=>(d(),b(j,{to:"body",disabled:!e.appendToBody},[v(x,{name:"dialog-fade",onAfterEnter:m(S),onAfterLeave:m(T),onBeforeLeave:m(X),persisted:""},{default:g((()=>[_(v(m(z),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":m(Y)},{default:g((()=>[c("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:m(h),"aria-describedby":m(y),class:f(`${m(a).namespace.value}-overlay-dialog`),style:k(m(R)),onClick:s[0]||(s[0]=(...e)=>m(Z).onClick&&m(Z).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>m(Z).onMousedown&&m(Z).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>m(Z).onMouseup&&m(Z).onMouseup(...e))},[v(m(J),{loop:"",trapped:m(p),"focus-start-el":"container",onFocusAfterTrapped:m(K),onFocusAfterReleased:m(W),onFocusoutPrevented:m(N),onReleaseRequested:m(G)},{default:g((()=>[m(B)?(d(),b(Q,F({key:0,ref_key:"dialogContentRef",ref:i},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:m(ee),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,onClose:m(P)}),M({header:g((()=>[e.$slots.title?u(e.$slots,"title",{key:1}):u(e.$slots,"header",{key:0,close:m(P),titleId:m(h),titleClass:m(a).e("title")})])),default:g((()=>[u(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:g((()=>[u(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):C("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,V)])),_:3},8,["mask","overlay-class","z-index"]),[[I,m(p)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]));export{ee as E,K as u};
