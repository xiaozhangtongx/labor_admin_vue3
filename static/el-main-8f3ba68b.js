import{d as e,bp as t,u as n,y as s,a as l,c as o,e as r,n as a,f as i,_ as c,aa as u,s as d,v as p,aO as m,a2 as f}from"./index-78956fcc.js";import{t as h,g as b}from"./throttle-bf10009a.js";import{t as v}from"./event-15d81b97.js";import{g}from"./scroll-a180cd47.js";const y=e({name:"ElContainer"});var E=c(e({...y,props:{direction:{type:String}},setup(e){const c=e,u=t(),d=n("container"),p=s((()=>{if("vertical"===c.direction)return!0;if("horizontal"===c.direction)return!1;if(u&&u.default){return u.default().some((e=>{const t=e.type.name;return"ElHeader"===t||"ElFooter"===t}))}return!1}));return(e,t)=>(l(),o("section",{class:a([i(d).b(),i(d).is("vertical",i(p))])},[r(e.$slots,"default")],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const w=e({name:"ElAside"});var k=c(e({...w,props:{width:{type:String,default:null}},setup(e){const t=e,c=n("aside"),d=s((()=>t.width?c.cssVarBlock({width:t.width}):{}));return(e,t)=>(l(),o("aside",{class:a(i(c).b()),style:u(i(d))},[r(e.$slots,"default")],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const S=e({name:"ElFooter"});var _=c(e({...S,props:{height:{type:String,default:null}},setup(e){const t=e,c=n("footer"),d=s((()=>t.height?c.cssVarBlock({height:t.height}):{}));return(e,t)=>(l(),o("footer",{class:a(i(c).b()),style:u(i(d))},[r(e.$slots,"default")],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const H=e({name:"ElHeader"});var T=c(e({...H,props:{height:{type:String,default:null}},setup(e){const t=e,c=n("header"),d=s((()=>t.height?c.cssVarBlock({height:t.height}):{}));return(e,t)=>(l(),o("header",{class:a(i(c).b()),style:u(i(d))},[r(e.$slots,"default")],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const $=e({name:"ElMain"});var j=c(e({...$,setup(e){const t=n("main");return(e,n)=>(l(),o("main",{class:a(i(t).b())},[r(e.$slots,"default")],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const B=d(E,{Aside:k,Footer:_,Header:T,Main:j}),N=p(k);p(_),p(T);const L=p(j),V="ElInfiniteScroll",A={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},F=(e,t)=>Object.entries(A).reduce(((n,[s,l])=>{var o,r;const{type:a,default:i}=l,c=e.getAttribute(`infinite-scroll-${s}`);let u=null!=(r=null!=(o=t[c])?o:c)?r:i;return u="false"!==u&&u,u=a(u),n[s]=Number.isNaN(u)?i:u,n}),{}),M=e=>{const{observer:t}=e[V];t&&(t.disconnect(),delete e[V].observer)},O=(e,t)=>{const{container:n,containerEl:s,instance:l,observer:o,lastScrollTop:r}=e[V],{disabled:a,distance:i}=F(e,l),{clientHeight:c,scrollHeight:u,scrollTop:d}=s,p=d-r;if(e[V].lastScrollTop=d,o||a||p<0)return;let m=!1;if(n===e)m=u-(c+d)<=i;else{const{clientTop:t,scrollHeight:n}=e;m=d+c>=b(e,s)+t+n-i}m&&t.call(l)};function x(e,t){const{containerEl:n,instance:s}=e[V],{disabled:l}=F(e,s);l||0===n.clientHeight||(n.scrollHeight<=n.clientHeight?t.call(s):M(e))}const I={async mounted(e,t){const{instance:n,value:s}=t;m(s)||v(V,"'v-infinite-scroll' binding value must be a function"),await f();const{delay:l,immediate:o}=F(e,n),r=g(e,!0),a=r===window?document.documentElement:r,i=h(O.bind(null,e,s),l);if(r){if(e[V]={instance:n,container:r,containerEl:a,delay:l,cb:s,onScroll:i,lastScrollTop:a.scrollTop},o){const t=new MutationObserver(h(x.bind(null,e,s),50));e[V].observer=t,t.observe(e,{childList:!0,subtree:!0}),x(e,s)}r.addEventListener("scroll",i)}},unmounted(e){const{container:t,onScroll:n}=e[V];null==t||t.removeEventListener("scroll",n),M(e)},async updated(e){if(e[V]){const{containerEl:t,cb:n,observer:s}=e[V];t.clientHeight&&s&&x(e,n)}else await f()},install:e=>{e.directive("InfiniteScroll",I)}},z=I;export{N as E,L as a,B as b,z as c};
