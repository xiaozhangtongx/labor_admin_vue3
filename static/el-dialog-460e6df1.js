import{o as e,Y as s,S as o,A as t,d as a,z as l,j as n,y as r,a as d,c as i,k as c,e as u,n as f,f as m,q as p,C as v,w as g,l as b,m as h,E as y,H as C,aa as k,_ as E,cl as R,br as $,u as w,r as A,p as L,D as _,F,ar as M,I,T as x,J as j,s as T}from"./index-1f640676.js";import{b as Y,c as S,d as X,a as q,u as z,E as B,e as D}from"./el-overlay-ed666455.js";import{F as P,E as H}from"./focus-trap-b62d6901.js";import{c as K}from"./refs-6a29fe35.js";import{u as U}from"./el-button-dbdb681c.js";const J=(a,l,n)=>{let r={offsetX:0,offsetY:0};const d=e=>{const s=e.clientX,o=e.clientY,{offsetX:l,offsetY:n}=r,d=a.value.getBoundingClientRect(),i=d.left,c=d.top,u=d.width,f=d.height,m=document.documentElement.clientWidth,p=document.documentElement.clientHeight,v=-i+l,g=-c+n,b=m-i-u+l,h=p-c-f+n,y=e=>{const d=Math.min(Math.max(l+e.clientX-s,v),b),i=Math.min(Math.max(n+e.clientY-o,g),h);r={offsetX:d,offsetY:i},a.value.style.transform=`translate(${t(d)}, ${t(i)})`},C=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",C)},i=()=>{l.value&&a.value&&l.value.removeEventListener("mousedown",d)};e((()=>{s((()=>{n.value?l.value&&a.value&&l.value.addEventListener("mousedown",d):i()}))})),o((()=>{i()}))},O=Symbol("dialogInjectionKey"),W=["aria-label"],Z=["id"],G=a({name:"ElDialogContent"});var N=E(a({...G,props:Y,emits:S,setup(e){const s=e,{t:o}=l(),{Close:t}=R,{dialogRef:a,headerRef:E,bodyId:$,ns:w,style:A}=n(O),{focusTrapRef:L}=n(P),_=K(L,a),F=r((()=>s.draggable));return J(a,E,F),(e,s)=>(d(),i("div",{ref:m(_),class:f([m(w).b(),m(w).is("fullscreen",e.fullscreen),m(w).is("draggable",m(F)),m(w).is("align-center",e.alignCenter),{[m(w).m("center")]:e.center},e.customClass]),style:k(m(A)),tabindex:"-1"},[c("header",{ref_key:"headerRef",ref:E,class:f(m(w).e("header"))},[u(e.$slots,"header",{},(()=>[c("span",{role:"heading",class:f(m(w).e("title"))},p(e.title),3)])),e.showClose?(d(),i("button",{key:0,"aria-label":m(o)("el.dialog.close"),class:f(m(w).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[v(m(y),{class:f(m(w).e("close"))},{default:g((()=>[(d(),b(h(e.closeIcon||m(t))))])),_:1},8,["class"])],10,W)):C("v-if",!0)],2),c("div",{id:m($),class:f(m(w).e("body"))},[u(e.$slots,"default")],10,Z),e.$slots.footer?(d(),i("footer",{key:0,class:f(m(w).e("footer"))},[u(e.$slots,"footer")],2)):C("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Q=["aria-label","aria-labelledby","aria-describedby"],V=a({name:"ElDialog",inheritAttrs:!1});const ee=T(E(a({...V,props:X,emits:q,setup(e,{expose:s}){const o=e,t=$();U({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},r((()=>!!t.title))),U({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},r((()=>!!o.customClass)));const a=w("dialog"),l=A(),n=A(),i=A(),{visible:p,titleId:h,bodyId:y,style:E,overlayDialogStyle:R,rendered:T,zIndex:Y,afterEnter:S,afterLeave:X,beforeLeave:q,handleClose:P,onModalClick:K,onOpenAutoFocus:J,onCloseAutoFocus:W,onCloseRequested:Z,onFocusoutPrevented:G}=z(o,l);L(O,{dialogRef:l,headerRef:n,bodyId:y,ns:a,rendered:T,style:E});const V=D(K),ee=r((()=>o.draggable&&!o.fullscreen));return s({visible:p,dialogContentRef:i}),(e,s)=>(d(),b(j,{to:"body",disabled:!e.appendToBody},[v(x,{name:"dialog-fade",onAfterEnter:m(S),onAfterLeave:m(X),onBeforeLeave:m(q),persisted:""},{default:g((()=>[_(v(m(B),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":m(Y)},{default:g((()=>[c("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:m(h),"aria-describedby":m(y),class:f(`${m(a).namespace.value}-overlay-dialog`),style:k(m(R)),onClick:s[0]||(s[0]=(...e)=>m(V).onClick&&m(V).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>m(V).onMousedown&&m(V).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>m(V).onMouseup&&m(V).onMouseup(...e))},[v(m(H),{loop:"",trapped:m(p),"focus-start-el":"container",onFocusAfterTrapped:m(J),onFocusAfterReleased:m(W),onFocusoutPrevented:m(G),onReleaseRequested:m(Z)},{default:g((()=>[m(T)?(d(),b(N,F({key:0,ref_key:"dialogContentRef",ref:i},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:m(ee),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,onClose:m(P)}),M({header:g((()=>[e.$slots.title?u(e.$slots,"title",{key:1}):u(e.$slots,"header",{key:0,close:m(P),titleId:m(h),titleClass:m(a).e("title")})])),default:g((()=>[u(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:g((()=>[u(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):C("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Q)])),_:3},8,["mask","overlay-class","z-index"]),[[I,m(p)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]));export{ee as E,J as u};
