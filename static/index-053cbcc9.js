import{aA as e,h as t,y as l,aX as a,aY as o,g as n,b as s,a0 as i,d as r,u,r as d,Q as c,f as p,R as m,S as v,U as f,G as h,a7 as g,o as b,aZ as y,m as S,V as x,a2 as w,a_ as V,_ as I,a as C,c as T,q as O,n as M,aa as z,k,a$ as E,e as R,j as _,aR as N,C as B,F as D,b0 as j,a1 as L,K as $,aN as F,b1 as H,z as W,b2 as K,b3 as A,Z as U,E as q,b4 as P,t as Y,p as G,B as Q,b5 as X,D as Z,w as J,H as ee,W as te,ah as le,l as ae,a8 as oe,I as ne,aL as se,aM as ie,b6 as re,a4 as ue,aV as de,an as ce}from"./index-af1b0f7f.js";import{E as pe}from"./el-dialog-eb6eea03.js";import"./el-overlay-064fc03e.js";import{B as me,E as ve}from"./el-scrollbar-122da2af.js";import{E as fe,a as he}from"./el-descriptions-item-6ae38340.js";/* empty css               */import{E as ge}from"./el-button-4c1bfddb.js";import{E as be}from"./el-date-picker-5b8d1615.js";/* empty css                 */import{a as ye,b as Se,E as xe}from"./el-popper-93d8741f.js";import{E as we,a as Ve}from"./el-select-15637aa0.js";import{g as Ie}from"./index-44f0e3f2.js";import{_ as Ce}from"./index.vue_vue_type_script_setup_true_lang-f927f1c6.js";import{_ as Te}from"./index.vue_vue_type_style_index_0_lang-f51a683b.js";import{a as Oe}from"./validate-8460febd.js";import{E as Me}from"./index-9e5f34e5.js";import{i as ze}from"./validator-e168c632.js";import{i as ke,a as Ee}from"./index-b7e1e73a.js";import{u as Re,a as _e}from"./use-form-item-c127ca03.js";import{e as Ne}from"./strings-a26e2dce.js";import{i as Be,d as De,U as je,C as Le}from"./event-15d81b97.js";import{d as $e}from"./debounce-8a611c37.js";import{i as Fe}from"./isEqual-b39ef673.js";import{C as He}from"./index-8024eeb1.js";import"./index-0053bafd.js";import"./scroll-9ad6d206.js";import"./focus-trap-1edd113c.js";import"./refs-b2772767.js";import"./index-6ff256e8.js";import"./panel-time-pick-819c6550.js";import"./index-1c309752.js";import"./flatten-5366b166.js";import"./_baseFlatten-52858dbe.js";import"./_Uint8Array-e7b42d57.js";import"./index-de5a0541.js";const We=t=>e?window.requestAnimationFrame(t):setTimeout(t,16),Ke=t=>e?window.cancelAnimationFrame(t):clearTimeout(t);var Ae=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Ue(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(a=e[l],o=t[l],!(a===o||Ae(a)&&Ae(o)))return!1;var a,o;return!0}const qe=()=>{const e=t().proxy.$props;return l((()=>{const t=(e,t,l)=>({});return e.perfMode?a(t):function(e,t){void 0===t&&(t=Ue);var l=null;function a(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(l&&l.lastThis===this&&t(a,l.lastArgs))return l.lastResult;var n=e.apply(this,a);return l={lastResult:n,lastArgs:a,lastThis:this},n}return a.clear=function(){l=null},a}(t)}))},Pe="itemRendered",Ye="scroll",Ge="forward",Qe="backward",Xe="auto",Ze="smart",Je="start",et="center",tt="horizontal",lt="vertical",at="rtl",ot="negative",nt="positive-ascending",st="positive-descending",it={[tt]:"left",[lt]:"top"},rt={[tt]:"deltaX",[lt]:"deltaY"},ut=o({type:n([Number,Function]),required:!0}),dt=o({type:Number}),ct=o({type:Number,default:2}),pt=o({type:String,values:["ltr","rtl"],default:"ltr"}),mt=o({type:Number,default:0}),vt=o({type:Number,required:!0}),ft=o({type:String,values:["horizontal","vertical"],default:lt}),ht=s({className:{type:String,default:""},containerElement:{type:n([String,Object]),default:"div"},data:{type:n(Array),default:()=>i([])},direction:pt,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:n([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),gt=s({cache:ct,estimatedItemSize:dt,layout:ft,initScrollOffset:mt,total:vt,itemSize:ut,...ht}),bt={type:Number,default:6},yt={type:Number,default:0},St={type:Number,default:2};s({columnCache:ct,columnWidth:ut,estimatedColumnWidth:dt,estimatedRowHeight:dt,initScrollLeft:mt,initScrollTop:mt,itemKey:{type:n(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:ct,rowHeight:ut,totalColumn:vt,totalRow:vt,hScrollbarSize:bt,vScrollbarSize:bt,scrollbarStartGap:yt,scrollbarEndGap:St,role:String,...ht});const xt=s({alwaysOn:Boolean,class:String,layout:ft,total:vt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:bt,startGap:yt,endGap:St,visible:Boolean}),wt=(e,t)=>e<t?Ge:Qe,Vt=e=>"ltr"===e||e===at||e===tt;let It=null;function Ct(e=!1){if(null===It||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const l=document.createElement("div"),a=l.style;return a.width="100px",a.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?It=st:(e.scrollLeft=1,It=0===e.scrollLeft?ot:nt),document.body.removeChild(e),It}return It}const Tt=r({name:"ElVirtualScrollBar",props:xt,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const a=l((()=>e.startGap+e.endGap)),o=u("virtual-scrollbar"),n=u("scrollbar"),s=d(),i=d();let r=null,g=null;const b=c({isDragging:!1,traveled:0}),y=l((()=>me[e.layout])),S=l((()=>e.clientSize-p(a))),x=l((()=>({position:"absolute",width:`${tt===e.layout?S.value:e.scrollbarSize}px`,height:`${tt===e.layout?e.scrollbarSize:S.value}px`,[it[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),w=l((()=>{const t=e.ratio,l=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*l/100;const a=l/3;return Math.floor(Math.min(Math.max(t*l,20),a))})),V=l((()=>{if(!Number.isFinite(w.value))return{display:"none"};const t=`${w.value}px`,l=function({move:e,size:t,bar:l},a){const o={},n=`translate${l.axis}(${e}px)`;return o[l.size]=t,o.transform=n,o.msTransform=n,o.webkitTransform=n,"horizontal"===a?o.height="100%":o.width="100%",o}({bar:y.value,size:t,move:b.traveled},e.layout);return l})),I=l((()=>Math.floor(e.clientSize-w.value-p(a)))),C=()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",O),document.onselectstart=g,g=null;const e=p(i);e&&(e.removeEventListener("touchmove",M),e.removeEventListener("touchend",O))},T=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(b.isDragging=!0,b[y.value.axis]=e.currentTarget[y.value.offset]-(e[y.value.client]-e.currentTarget.getBoundingClientRect()[y.value.direction]),t("start-move"),(()=>{window.addEventListener("mousemove",M),window.addEventListener("mouseup",O);const e=p(i);e&&(g=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",M),e.addEventListener("touchend",O))})())},O=()=>{b.isDragging=!1,b[y.value.axis]=0,t("stop-move"),C()},M=l=>{const{isDragging:a}=b;if(!a)return;if(!i.value||!s.value)return;const o=b[y.value.axis];if(!o)return;Ke(r);const n=-1*(s.value.getBoundingClientRect()[y.value.direction]-l[y.value.client])-(i.value[y.value.offset]-o);r=We((()=>{b.traveled=Math.max(e.startGap,Math.min(n,I.value)),t("scroll",n,I.value)}))},z=e=>{const l=Math.abs(e.target.getBoundingClientRect()[y.value.direction]-e[y.value.client])-i.value[y.value.offset]/2;b.traveled=Math.max(0,Math.min(l,I.value)),t("scroll",l,I.value)};return m((()=>e.scrollFrom),(e=>{b.isDragging||(b.traveled=Math.ceil(e*I.value))})),v((()=>{C()})),()=>f("div",{role:"presentation",ref:s,class:[o.b(),e.class,(e.alwaysOn||b.isDragging)&&"always-on"],style:x.value,onMousedown:h(z,["stop","prevent"]),onTouchstartPrevent:T},f("div",{ref:i,class:n.e("thumb"),style:V.value,onMousedown:T},[]))}}),Ot=({name:a,getOffset:o,getItemSize:n,getItemOffset:s,getEstimatedTotalSize:i,getStartIndexForOffset:c,getStopIndexForStartIndex:m,initCache:v,clearCache:h,validateProps:I})=>r({name:null!=a?a:"ElVirtualList",props:gt,emits:[Pe,Ye],setup(a,{emit:r,expose:f}){I(a);const S=t(),x=u("vl"),C=d(v(a,S)),T=qe(),O=d(),M=d(),z=d(),k=d({isScrolling:!1,scrollDir:"forward",scrollOffset:g(a.initScrollOffset)?a.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:a.scrollbarAlwaysOn}),E=l((()=>{const{total:e,cache:t}=a,{isScrolling:l,scrollDir:o,scrollOffset:n}=p(k);if(0===e)return[0,0,0,0];const s=c(a,n,p(C)),i=m(a,s,n,p(C)),r=l&&o!==Qe?1:Math.max(1,t),u=l&&o!==Ge?1:Math.max(1,t);return[Math.max(0,s-r),Math.max(0,Math.min(e-1,i+u)),s,i]})),R=l((()=>i(a,p(C)))),_=l((()=>Vt(a.layout))),N=l((()=>[{position:"relative",["overflow-"+(_.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:a.direction,height:g(a.height)?`${a.height}px`:a.height,width:g(a.width)?`${a.width}px`:a.width},a.style])),B=l((()=>{const e=p(R),t=p(_);return{height:t?"100%":`${e}px`,pointerEvents:p(k).isScrolling?"none":void 0,width:t?`${e}px`:"100%"}})),D=l((()=>_.value?a.width:a.height)),{onWheel:j}=(({atEndEdge:e,atStartEdge:t,layout:l},a)=>{let o,n=0;const s=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:s,onWheel:e=>{Ke(o);const t=e[rt[l.value]];s(n)&&s(n+t)||(n+=t,ke()||e.preventDefault(),o=We((()=>{a(n),n=0})))}}})({atStartEdge:l((()=>k.value.scrollOffset<=0)),atEndEdge:l((()=>k.value.scrollOffset>=R.value)),layout:l((()=>a.layout))},(e=>{var t,l;null==(l=(t=z.value).onMouseUp)||l.call(t),$(Math.min(k.value.scrollOffset+e,R.value-D.value))})),L=()=>{const{total:e}=a;if(e>0){const[e,t,l,a]=p(E);r(Pe,e,t,l,a)}const{scrollDir:t,scrollOffset:l,updateRequested:o}=p(k);r(Ye,t,l,o)},$=e=>{(e=Math.max(e,0))!==p(k).scrollOffset&&(k.value={...p(k),scrollOffset:e,scrollDir:wt(p(k).scrollOffset,e),updateRequested:!0},w(H))},F=(e,t=Xe)=>{const{scrollOffset:l}=p(k);e=Math.max(0,Math.min(e,a.total-1)),$(o(a,e,t,l,p(C)))},H=()=>{k.value.isScrolling=!1,w((()=>{T.value(-1,null,null)}))},W=()=>{const e=O.value;e&&(e.scrollTop=0)};b((()=>{if(!e)return;const{initScrollOffset:t}=a,l=p(O);g(t)&&l&&(p(_)?l.scrollLeft=t:l.scrollTop=t),L()})),y((()=>{const{direction:e,layout:t}=a,{scrollOffset:l,updateRequested:o}=p(k),n=p(O);if(o&&n)if(t===tt)if(e===at)switch(Ct()){case ot:n.scrollLeft=-l;break;case nt:n.scrollLeft=l;break;default:{const{clientWidth:e,scrollWidth:t}=n;n.scrollLeft=t-e-l;break}}else n.scrollLeft=l;else n.scrollTop=l}));const K={ns:x,clientSize:D,estimatedTotalSize:R,windowStyle:N,windowRef:O,innerRef:M,innerStyle:B,itemsToRender:E,scrollbarRef:z,states:k,getItemStyle:e=>{const{direction:t,itemSize:l,layout:o}=a,i=T.value(h&&l,h&&o,h&&t);let r;if(V(i,String(e)))r=i[e];else{const l=s(a,e,p(C)),o=n(a,e,p(C)),u=p(_),d=t===at,c=u?l:0;i[e]=r={position:"absolute",left:d?void 0:`${c}px`,right:d?`${c}px`:void 0,top:u?0:`${l}px`,height:u?"100%":`${o}px`,width:u?`${o}px`:"100%"}}return r},onScroll:e=>{p(_)?(e=>{const{clientWidth:t,scrollLeft:l,scrollWidth:o}=e.currentTarget,n=p(k);if(n.scrollOffset===l)return;const{direction:s}=a;let i=l;if(s===at)switch(Ct()){case ot:i=-l;break;case st:i=o-t-l}i=Math.max(0,Math.min(i,o-t)),k.value={...n,isScrolling:!0,scrollDir:wt(n.scrollOffset,i),scrollOffset:i,updateRequested:!1},w(H)})(e):(e=>{const{clientHeight:t,scrollHeight:l,scrollTop:a}=e.currentTarget,o=p(k);if(o.scrollOffset===a)return;const n=Math.max(0,Math.min(a,l-t));k.value={...o,isScrolling:!0,scrollDir:wt(o.scrollOffset,n),scrollOffset:n,updateRequested:!1},w(H)})(e),L()},onScrollbarScroll:(e,t)=>{const l=(R.value-D.value)/t*e;$(Math.min(R.value-D.value,l))},onWheel:j,scrollTo:$,scrollToItem:F,resetScrollTop:W};return f({windowRef:O,innerRef:M,getItemStyleCache:T,scrollTo:$,scrollToItem:F,resetScrollTop:W,states:k}),K},render(e){var t;const{$slots:l,className:a,clientSize:o,containerElement:n,data:s,getItemStyle:i,innerElement:r,itemsToRender:u,innerStyle:d,layout:c,total:p,onScroll:m,onScrollbarScroll:v,onWheel:h,states:g,useIsScrolling:b,windowStyle:y,ns:w}=e,[V,I]=u,C=S(n),T=S(r),O=[];if(p>0)for(let f=V;f<=I;f++)O.push(null==(t=l.default)?void 0:t.call(l,{data:s,key:f,index:f,isScrolling:b?g.isScrolling:void 0,style:i(f)}));const M=[f(T,{style:d,ref:"innerRef"},x(T)?O:{default:()=>O})],z=f(Tt,{ref:"scrollbarRef",clientSize:o,layout:c,onScroll:v,ratio:100*o/this.estimatedTotalSize,scrollFrom:g.scrollOffset/(this.estimatedTotalSize-o),total:p}),k=f(C,{class:[w.e("window"),a],style:y,onScroll:m,onWheel:h,ref:"windowRef",key:0},x(C)?[M]:{default:()=>[M]});return f("div",{key:0,class:[w.e("wrapper"),g.scrollbarAlwaysOn?"always-on":""]},[k,z])}}),Mt=Ot({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:l,layout:a,width:o},n,s,i)=>{const r=Vt(a)?o:e,u=Math.max(0,t*l-r),d=Math.min(u,n*l),c=Math.max(0,(n+1)*l-r);switch(s===Ze&&(s=i>=c-r&&i<=d+r?Xe:et),s){case Je:return d;case"end":return c;case et:{const e=Math.round(c+(d-c)/2);return e<Math.ceil(r/2)?0:e>u+Math.floor(r/2)?u:e}default:return i>=c&&i<=d?i:i<c?c:d}},getStartIndexForOffset:({total:e,itemSize:t},l)=>Math.max(0,Math.min(e-1,Math.floor(l/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:l,layout:a,width:o},n,s)=>{const i=n*l,r=Vt(a)?o:e,u=Math.ceil((r+s-i)/l);return Math.max(0,Math.min(t-1,n+u-1))},initCache(){},clearCache:!0,validateProps(){}}),zt=(e,t,l)=>{const{itemSize:a}=e,{items:o,lastVisitedIndex:n}=l;if(t>n){let e=0;if(n>=0){const t=o[n];e=t.offset+t.size}for(let l=n+1;l<=t;l++){const t=a(l);o[l]={offset:e,size:t},e+=t}l.lastVisitedIndex=t}return o[t]},kt=(e,t,l,a,o)=>{for(;l<=a;){const n=l+Math.floor((a-l)/2),s=zt(e,n,t).offset;if(s===o)return n;s<o?l=n+1:s>o&&(a=n-1)}return Math.max(0,l-1)},Et=(e,t,l,a)=>{const{total:o}=e;let n=1;for(;l<o&&zt(e,l,t).offset<a;)l+=n,n*=2;return kt(e,t,Math.floor(l/2),Math.min(l,o-1),a)},Rt=({total:e},{items:t,estimatedItemSize:l,lastVisitedIndex:a})=>{let o=0;if(a>=e&&(a=e-1),a>=0){const e=t[a];o=e.offset+e.size}return o+(e-a-1)*l},_t=Ot({name:"ElDynamicSizeList",getItemOffset:(e,t,l)=>zt(e,t,l).offset,getItemSize:(e,t,{items:l})=>l[t].size,getEstimatedTotalSize:Rt,getOffset:(e,t,l,a,o)=>{const{height:n,layout:s,width:i}=e,r=Vt(s)?i:n,u=zt(e,t,o),d=Rt(e,o),c=Math.max(0,Math.min(d-r,u.offset)),p=Math.max(0,u.offset-r+u.size);switch(l===Ze&&(l=a>=p-r&&a<=c+r?Xe:et),l){case Je:return c;case"end":return p;case et:return Math.round(p+(c-p)/2);default:return a>=p&&a<=c?a:a<p?p:c}},getStartIndexForOffset:(e,t,l)=>((e,t,l)=>{const{items:a,lastVisitedIndex:o}=t;return(o>0?a[o].offset:0)>=l?kt(e,t,0,o,l):Et(e,t,Math.max(0,o),l)})(e,l,t),getStopIndexForStartIndex:(e,t,l,a)=>{const{height:o,total:n,layout:s,width:i}=e,r=Vt(s)?i:o,u=zt(e,t,a),d=l+r;let c=u.offset+u.size,p=t;for(;p<n-1&&c<d;)p++,c+=zt(e,p,a).size;return p},initCache({estimatedItemSize:e=50},t){const l={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,a=!0)=>{var o,n;l.lastVisitedIndex=Math.min(l.lastVisitedIndex,e-1),null==(o=t.exposed)||o.getItemStyleCache(-1),a&&(null==(n=t.proxy)||n.$forceUpdate())}};return l},clearCache:!1,validateProps:({itemSize:e})=>{}});var Nt=I(r({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:u("select")})}),[["render",function(e,t,l,a,o,n){return e.item.isTitle?(C(),T("div",{key:0,class:M(e.ns.be("group","title")),style:z([e.style,{lineHeight:`${e.height}px`}])},O(e.item.label),7)):(C(),T("div",{key:1,class:M(e.ns.be("group","split")),style:z(e.style)},[k("span",{class:M(e.ns.be("group","split-dash")),style:z({top:e.height/2+"px"})},null,6)],6))}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);const Bt={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:E},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:ye.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:ze},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:n(String),values:Se,default:"bottom-start"}},Dt={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},jt=r({props:Dt,emits:["select","hover"],setup(e,{emit:t}){const l=u("select"),{hoverItem:a,selectOptionClick:o}=function(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}(e,{emit:t});return{ns:l,hoverItem:a,selectOptionClick:o}}}),Lt=["aria-selected"];var $t=I(jt,[["render",function(e,t,l,a,o,n){return C(),T("li",{"aria-selected":e.selected,style:z(e.style),class:M([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=h(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[R(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[k("span",null,O(e.item.label),1)]))],46,Lt)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const Ft=Symbol("ElSelectV2Injection");var Ht=r({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:a}){const o=_(Ft),n=u("select"),s=d([]),i=d(),r=l((()=>e.data.length));m((()=>r.value),(()=>{var e,t;null==(t=(e=o.popper.value).updatePopper)||t.call(e)}));const c=l((()=>N(o.props.estimatedOptionHeight))),v=l((()=>c.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:e=>s.value[e]})),f=(e,t)=>{const{valueKey:l}=o.props;return o.props.multiple?((e=[],t)=>{const{props:{valueKey:l}}=o;return L(t)?e&&e.some((e=>j(e,l)===j(t,l))):e.includes(t)})(e,j(t,l)):((e,t)=>{if(L(t)){const{valueKey:l}=o.props;return j(e,l)===j(t,l)}return e===t})(e,j(t,l))},h=(e,t)=>{const{disabled:l,multiple:a,multipleLimit:n}=o.props;return l||!t&&!!a&&n>0&&e.length>=n},g=t=>e.hoveringIndex===t;a({listRef:i,isSized:c,isItemDisabled:h,isItemHovering:g,isItemSelected:f,scrollToItem:e=>{const t=i.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{const e=i.value;e&&e.resetScrollTop()}});const b=e=>{const{index:l,data:a,style:n}=e,s=p(c),{itemSize:i,estimatedSize:r}=p(v),{modelValue:u}=o.props,{onSelect:d,onHover:m}=o,b=a[l];if("Group"===b.type)return B(Nt,{item:b,style:n,height:s?i:r},null);const y=f(u,b),S=h(u,y),x=g(l);return B($t,D(e,{selected:y,disabled:b.disabled||S,created:!!b.created,hovering:x,item:b,onSelect:d,onHover:m}),{default:e=>{var l;return(null==(l=t.default)?void 0:l.call(t,e))||B("span",null,[b.label])}})},{onKeyboardNavigate:y,onKeyboardSelect:S}=o,x=e=>{const{code:t}=e,{tab:l,esc:a,down:n,up:s,enter:i}=$;switch(t!==l&&(e.preventDefault(),e.stopPropagation()),t){case l:case a:o.expanded=!1;break;case n:y("forward");break;case s:y("backward");break;case i:S()}};return()=>{var l;const{data:a,width:s}=e,{height:r,multiple:u,scrollbarAlwaysOn:d}=o.props;if(0===a.length)return B("div",{class:n.b("dropdown"),style:{width:`${s}px`}},[null==(l=t.empty)?void 0:l.call(t)]);const m=p(c)?Mt:_t;return B("div",{class:[n.b("dropdown"),n.is("multiple",u)]},[B(m,D({ref:i},p(v),{className:n.be("dropdown","list"),scrollbarAlwaysOn:d,data:a,height:r,width:s,total:a.length,onKeydown:x}),{default:e=>B(b,e,null)})])}}});function Wt(e,t){const a=d(0),o=d(null),n=l((()=>e.allowCreate&&e.filterable));return{createNewOption:function(l){if(n.value)if(l&&l.length>0&&!function(l){const a=e=>e.value===l;return e.options&&e.options.some(a)||t.createdOptions.some(a)}(l)){const e={value:l,label:l,created:!0,disabled:!1};t.createdOptions.length>=a.value?t.createdOptions[a.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=a.value;else{const e=o.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}},removeNewOption:function(l){if(!n.value||!l||!l.created||l.created&&e.reserveKeyword&&t.inputValue===l.label)return;const o=t.createdOptions.findIndex((e=>e.value===l.value));~o&&(t.createdOptions.splice(o,1),a.value--)},selectNewOption:function(t){n.value&&(e.multiple&&t.created?a.value++:o.value=t)},clearAllNewOption:function(){n.value&&(t.createdOptions.length=0,a.value=0)}}}const Kt={larget:51,default:42,small:33},At=(e,t)=>{const{t:a}=W(),o=u("select-v2"),n=u("input"),{form:s,formItem:i}=Re(),r=c({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),p=d(-1),v=d(-1),f=d(null),h=d(null),g=d(null),y=d(null),S=d(null),x=d(null),V=d(null),I=d(!1),C=l((()=>e.disabled||(null==s?void 0:s.disabled))),T=l((()=>{const t=34*B.value.length;return t>e.height?e.height:t})),O=l((()=>!Be(e.modelValue))),M=l((()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:O.value;return e.clearable&&!C.value&&r.comboBoxHovering&&t})),z=l((()=>e.remote&&e.filterable?"":K)),k=l((()=>z.value&&o.is("reverse",I.value))),E=l((()=>(null==i?void 0:i.validateState)||"")),R=l((()=>A[E.value])),_=l((()=>e.remote?300:0)),N=l((()=>{const t=B.value;return e.loading?e.loadingText||a("el.select.loading"):(!e.remote||""!==r.inputValue||0!==t.length)&&(e.filterable&&r.inputValue&&t.length>0?e.noMatchText||a("el.select.noMatch"):0===t.length?e.noDataText||a("el.select.noData"):null)})),B=l((()=>{const t=e=>{const t=r.inputValue,l=new RegExp(Ne(t),"i");return!t||l.test(e.label||"")};return e.loading?[]:(e=>{const t=[];return e.forEach((e=>{F(e.options)?(t.push({label:e.label,isTitle:!0,type:"Group"}),e.options.forEach((e=>{t.push(e)})),t.push({type:"Group"})):t.push(e)})),t})(e.options.concat(r.createdOptions).map((l=>{if(F(l.options)){const e=l.options.filter(t);if(e.length>0)return{...l,options:e}}else if(e.remote||t(l))return l;return null})).filter((e=>null!==e)))})),D=l((()=>B.value.every((e=>e.disabled)))),$=_e(),q=l((()=>"small"===$.value?"small":"default")),P=l((()=>{const e=x.value,t=q.value||"default",l=e?Number.parseInt(getComputedStyle(e).paddingLeft):0,a=e?Number.parseInt(getComputedStyle(e).paddingRight):0;return r.selectWidth-a-l-Kt[t]})),Y=()=>{var e;v.value=(null==(e=S.value)?void 0:e.offsetWidth)||200},G=l((()=>({width:`${0===r.calculatedWidth?11:Math.ceil(r.calculatedWidth)+11}px`}))),Q=l((()=>F(e.modelValue)?0===e.modelValue.length&&!r.displayInputValue:!e.filterable||0===r.displayInputValue.length)),X=l((()=>{const t=e.placeholder||a("el.select.placeholder");return e.multiple||Be(e.modelValue)?t:r.selectedLabel})),Z=l((()=>{var e,t;return null==(t=null==(e=y.value)?void 0:e.popperRef)?void 0:t.contentRef})),J=l((()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0)return B.value.findIndex((l=>l.value===e.modelValue[t-1]))}else if(e.modelValue)return B.value.findIndex((t=>t.value===e.modelValue));return-1})),ee=l({get:()=>I.value&&!1!==N.value,set(e){I.value=e}}),te=l((()=>r.cachedOptions.slice(0,e.maxCollapseTags))),le=l((()=>r.cachedOptions.slice(e.maxCollapseTags))),{createNewOption:ae,removeNewOption:oe,selectNewOption:ne,clearAllNewOption:se}=Wt(e,r),{handleCompositionStart:ie,handleCompositionUpdate:re,handleCompositionEnd:ue}=function(e){const t=d(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:e=>{const l=e.target.value,a=l[l.length-1]||"";t.value=!Ee(a)},handleCompositionEnd:l=>{t.value&&(t.value=!1,H(e)&&e(l))}}}((e=>Te(e))),de=()=>{var e,t,l;null==(t=null==(e=h.value)?void 0:e.focus)||t.call(e),null==(l=y.value)||l.updatePopper()},ce=()=>{if(!e.automaticDropdown)return C.value?void 0:(r.isComposing&&(r.softFocus=!0),w((()=>{var e,t;I.value=!I.value,null==(t=null==(e=h.value)?void 0:e.focus)||t.call(e)})))},pe=()=>(e.filterable&&r.inputValue!==r.selectedLabel&&(r.query=r.selectedLabel),ve(r.inputValue),w((()=>{ae(r.inputValue)}))),me=$e(pe,_.value),ve=t=>{r.previousQuery!==t&&(r.previousQuery=t,e.filterable&&H(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&H(e.remoteMethod)&&e.remoteMethod(t))},fe=l=>{t(je,l),(l=>{Fe(e.modelValue,l)||t(Le,l)})(l),r.previousValue=null==l?void 0:l.toString()},he=t=>L(t)?j(t,e.valueKey):t,ge=()=>w((()=>{var e,t;if(!h.value)return;const l=x.value;S.value.height=l.offsetHeight,I.value&&!1!==N.value&&(null==(t=null==(e=y.value)?void 0:e.updatePopper)||t.call(e))})),be=()=>{var t,l;if(ye(),Y(),null==(l=null==(t=y.value)?void 0:t.updatePopper)||l.call(t),e.multiple)return ge()},ye=()=>{const e=x.value;e&&(r.selectWidth=e.getBoundingClientRect().width)},Se=(t,l,a=!0)=>{var o,n;if(e.multiple){let a=e.modelValue.slice();const s=((t=[],l)=>{if(!L(l))return t.indexOf(l);const a=e.valueKey;let o=-1;return t.some(((e,t)=>j(e,a)===j(l,a)&&(o=t,!0))),o})(a,he(t));s>-1?(a=[...a.slice(0,s),...a.slice(s+1)],r.cachedOptions.splice(s,1),oe(t)):(e.multipleLimit<=0||a.length<e.multipleLimit)&&(a=[...a,he(t)],r.cachedOptions.push(t),ne(t),Ie(l)),fe(a),t.created&&(r.query="",ve(""),r.inputLength=20),e.filterable&&!e.reserveKeyword&&(null==(n=(o=h.value).focus)||n.call(o),we("")),e.filterable&&(r.calculatedWidth=V.value.getBoundingClientRect().width),ge(),Ce()}else p.value=l,r.selectedLabel=t.label,fe(he(t)),I.value=!1,r.isComposing=!1,r.isSilentBlur=a,ne(t),t.created||se(),Ie(l)},xe=e=>(r.softFocus=!1,w((()=>{var l,a;null==(a=null==(l=h.value)?void 0:l.blur)||a.call(l),V.value&&(r.calculatedWidth=V.value.getBoundingClientRect().width),r.isSilentBlur?r.isSilentBlur=!1:r.isComposing&&t("blur",e),r.isComposing=!1}))),we=e=>{r.displayInputValue=e,r.inputValue=e},Ve=(e,t=undefined)=>{const l=B.value;if(!["forward","backward"].includes(e)||C.value||l.length<=0||D.value)return;if(!I.value)return ce();void 0===t&&(t=r.hoveringIndex);let a=-1;"forward"===e?(a=t+1,a>=l.length&&(a=0)):"backward"===e&&(a=t-1,(a<0||a>=l.length)&&(a=l.length-1));const o=l[a];if(o.disabled||"Group"===o.type)return Ve(e,a);Ie(a),Oe(a)},Ie=e=>{r.hoveringIndex=e},Ce=()=>{var e;const t=h.value;t&&(null==(e=t.focus)||e.call(t))},Te=t=>{const l=t.target.value;if(we(l),r.displayInputValue.length>0&&!I.value&&(I.value=!0),r.calculatedWidth=V.value.getBoundingClientRect().width,e.multiple&&ge(),!e.remote)return pe();me()},Oe=e=>{g.value.scrollToItem(e)},Me=()=>{if(r.hoveringIndex=-1,e.multiple)if(e.modelValue.length>0){let t=!1;r.cachedOptions.length=0,r.previousValue=e.modelValue.toString(),e.modelValue.forEach((e=>{const l=B.value.findIndex((t=>he(t)===e));~l&&(r.cachedOptions.push(B.value[l]),t||Ie(l),t=!0)}))}else r.cachedOptions=[],r.previousValue=void 0;else if(O.value){r.previousValue=e.modelValue;const t=B.value,l=t.findIndex((t=>he(t)===he(e.modelValue)));~l?(r.selectedLabel=t[l].label,Ie(l)):r.selectedLabel=`${e.modelValue}`}else r.selectedLabel="",r.previousValue=void 0;se(),Y()};return m(I,(e=>{var l,a;t("visible-change",e),e?null==(a=(l=y.value).update)||a.call(l):(r.displayInputValue="",r.previousQuery=null,ae(""))})),m((()=>e.modelValue),((t,l)=>{var a;t&&t.toString()===r.previousValue||Me(),!Fe(t,l)&&e.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change").catch((e=>De())))}),{deep:!0}),m((()=>e.options),(()=>{const e=h.value;(!e||e&&document.activeElement!==e)&&Me()}),{deep:!0}),m(B,(()=>w(g.value.resetScrollTop))),b((()=>{Me()})),U(S,be),{collapseTagSize:q,currentPlaceholder:X,expanded:I,emptyText:N,popupHeight:T,debounce:_,filteredOptions:B,iconComponent:z,iconReverse:k,inputWrapperStyle:G,popperSize:v,dropdownMenuVisible:ee,hasModelValue:O,shouldShowPlaceholder:Q,selectDisabled:C,selectSize:$,showClearBtn:M,states:r,tagMaxWidth:P,nsSelectV2:o,nsInput:n,calculatorRef:V,controlRef:f,inputRef:h,menuRef:g,popper:y,selectRef:S,selectionRef:x,popperRef:Z,validateState:E,validateIcon:R,showTagList:te,collapseTagList:le,debouncedOnInputChange:me,deleteTag:(l,a)=>{const{valueKey:o}=e,n=e.modelValue.indexOf(j(a,o));if(n>-1&&!C.value){const l=[...e.modelValue.slice(0,n),...e.modelValue.slice(n+1)];return r.cachedOptions.splice(n,1),fe(l),t("remove-tag",j(a,o)),r.softFocus=!0,oe(a),w(de)}l.stopPropagation()},getLabel:e=>L(e)?e.label:e,getValueKey:he,handleBlur:xe,handleClear:()=>{let l;return l=F(e.modelValue)?[]:void 0,r.softFocus=!0,e.multiple?r.cachedOptions=[]:r.selectedLabel="",I.value=!1,fe(l),t("clear"),se(),w(de)},handleClickOutside:()=>(I.value=!1,xe()),handleDel:t=>{if(0===r.displayInputValue.length){t.preventDefault();const l=e.modelValue.slice();l.pop(),oe(r.cachedOptions.pop()),fe(l)}},handleEsc:()=>{r.displayInputValue.length>0?we(""):I.value=!1},handleFocus:e=>{const l=r.isComposing;r.isComposing=!0,r.softFocus?r.softFocus=!1:l||t("focus",e)},handleMenuEnter:()=>(r.inputValue=r.displayInputValue,w((()=>{~J.value&&(Ie(J.value),Oe(r.hoveringIndex))}))),handleResize:be,toggleMenu:ce,scrollTo:Oe,onInput:Te,onKeyboardNavigate:Ve,onKeyboardSelect:()=>{if(!I.value)return ce();~r.hoveringIndex&&B.value[r.hoveringIndex]&&Se(B.value[r.hoveringIndex],r.hoveringIndex,!1)},onSelect:Se,onHover:Ie,onUpdateInputValue:we,handleCompositionStart:ie,handleCompositionEnd:ue,handleCompositionUpdate:re}},Ut=r({name:"ElSelectV2",components:{ElSelectMenu:Ht,ElTag:Me,ElTooltip:xe,ElIcon:q},directives:{ClickOutside:He,ModelText:P},props:Bt,emits:[je,Le,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const a=l((()=>{const{modelValue:t,multiple:l}=e,a=l?[]:void 0;return F(t)?l?t:a:l?a:t})),o=At(c({...Y(e),modelValue:a}),t);return G(Ft,{props:c({...Y(e),height:o.popupHeight,modelValue:a}),popper:o.popper,onSelect:o.onSelect,onHover:o.onHover,onKeyboardNavigate:o.onKeyboardNavigate,onKeyboardSelect:o.onKeyboardSelect}),{...o,modelValue:a}}}),qt={key:0},Pt=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Yt=["textContent"],Gt=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Qt=["textContent"];var Xt=I(Ut,[["render",function(e,t,l,a,o,n){const s=Q("el-tag"),i=Q("el-tooltip"),r=Q("el-icon"),u=Q("el-select-menu"),d=X("model-text"),c=X("click-outside");return Z((C(),T("div",{ref:"selectRef",class:M([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=h(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"])),onMouseenter:t[25]||(t[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=t=>e.states.comboBoxHovering=!1)},[B(i,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:J((()=>[k("div",{ref:"selectionRef",class:M([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(C(),T("div",qt,[R(e.$slots,"prefix")])):ee("v-if",!0),e.multiple?(C(),T("div",{key:1,class:M(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(C(),T(te,{key:0},[(C(!0),T(te,null,le(e.showTagList,(t=>(C(),T("div",{key:e.getValueKey(t),class:M(e.nsSelectV2.e("selected-item"))},[B(s,{closable:!e.selectDisabled&&!(null==t?void 0:t.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:J((()=>[k("span",{class:M(e.nsSelectV2.e("tags-text")),style:z({maxWidth:`${e.tagMaxWidth}px`})},O(null==t?void 0:t.label),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),k("div",{class:M(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(C(),ae(s,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:J((()=>[e.collapseTagsTooltip?(C(),ae(i,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:J((()=>[k("span",{class:M(e.nsSelectV2.e("tags-text")),style:z({maxWidth:`${e.tagMaxWidth}px`})},"+ "+O(e.modelValue.length-e.maxCollapseTags),7)])),content:J((()=>[k("div",{class:M(e.nsSelectV2.e("selection"))},[(C(!0),T(te,null,le(e.collapseTagList,(t=>(C(),T("div",{key:e.getValueKey(t),class:M(e.nsSelectV2.e("selected-item"))},[B(s,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:J((()=>[k("span",{class:M(e.nsSelectV2.e("tags-text")),style:z({maxWidth:`${e.tagMaxWidth}px`})},O(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect"])):(C(),T("span",{key:1,class:M(e.nsSelectV2.e("tags-text")),style:z({maxWidth:`${e.tagMaxWidth}px`})},"+ "+O(e.modelValue.length-e.maxCollapseTags),7))])),_:1},8,["size"])):ee("v-if",!0)],2)],64)):(C(!0),T(te,{key:1},le(e.states.cachedOptions,(t=>(C(),T("div",{key:e.getValueKey(t),class:M(e.nsSelectV2.e("selected-item"))},[B(s,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:J((()=>[k("span",{class:M(e.nsSelectV2.e("tags-text")),style:z({maxWidth:`${e.tagMaxWidth}px`})},O(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),k("div",{class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:z(e.inputWrapperStyle)},[Z(k("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:M([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[3]||(t[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:t[4]||(t[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[5]||(t[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[6]||(t[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[t[7]||(t[7]=oe(h((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[8]||(t[8]=oe(h((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[9]||(t[9]=oe(h(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=oe(h(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),t[11]||(t[11]=oe(h(((...t)=>e.handleDel&&e.handleDel(...t)),["stop"]),["delete"]))]},null,42,Pt),[[d,e.states.displayInputValue]]),e.filterable?(C(),T("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M(e.nsSelectV2.e("input-calculator")),textContent:O(e.states.displayInputValue)},null,10,Yt)):ee("v-if",!0)],6)],2)):(C(),T(te,{key:2},[k("div",{class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Z(k("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:M(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:t[15]||(t[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[16]||(t[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[17]||(t[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[18]||(t[18]=oe(h((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[19]||(t[19]=oe(h((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[20]||(t[20]=oe(h(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[21]||(t[21]=oe(h(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,Gt),[[d,e.states.displayInputValue]])],2),e.filterable?(C(),T("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:O(e.states.displayInputValue)},null,10,Qt)):ee("v-if",!0)],64)),e.shouldShowPlaceholder?(C(),T("span",{key:3,class:M([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?0===e.modelValue.length:!e.hasModelValue)])},O(e.currentPlaceholder),3)):ee("v-if",!0),k("span",{class:M(e.nsSelectV2.e("suffix"))},[e.iconComponent?Z((C(),ae(r,{key:0,class:M([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:J((()=>[(C(),ae(S(e.iconComponent)))])),_:1},8,["class"])),[[ne,!e.showClearBtn]]):ee("v-if",!0),e.showClearBtn&&e.clearIcon?(C(),ae(r,{key:1,class:M([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:h(e.handleClear,["prevent","stop"])},{default:J((()=>[(C(),ae(S(e.clearIcon)))])),_:1},8,["class","onClick"])):ee("v-if",!0),e.validateState&&e.validateIcon?(C(),ae(r,{key:2,class:M([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:J((()=>[(C(),ae(S(e.validateIcon)))])),_:1},8,["class"])):ee("v-if",!0)],2)],2)])),content:J((()=>[B(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:J((t=>[R(e.$slots,"default",se(ie(t)))])),empty:J((()=>[R(e.$slots,"empty",{},(()=>[k("p",{class:M(e.nsSelectV2.e("empty"))},O(e.emptyText?e.emptyText:""),3)]))])),_:3},8,["data","width","hovering-index","scrollbar-always-on"])])),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[c,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Xt.install=e=>{e.component(Xt.name,Xt)};const Zt=Xt;const Jt={class:"app-container"},el=k("span",{class:"i-carbon-task-view mr-1"},null,-1),tl=k("span",{class:"i-ph-pencil-line-light mr-1"},null,-1),ll=k("h4",{class:"mt-2"}," 打卡地点 ",-1),al=r({name:"VxeTable"}),ol=r({...al,setup(e){const t=d(),l=d(!1),a=d(!1),o=d(),n=d([]),s=c({startTime:"",endTime:""}),i=new Date(2e3,1,1,12,0,0),r=d(null),u=d(),m=[{id:0,label:"正常",status:0},{id:1,label:"未打卡",status:1},{id:2,label:"迟到",status:2},{id:3,label:"早退",status:3},{id:4,label:"时长不够",status:4},{id:5,label:"请假",status:5},{id:6,label:"加班",status:6},{id:7,label:"补办工时",status:7}],v=[{id:0,value:"正常",type:"success"},{id:1,value:"未打卡",type:"danger"},{id:2,value:"迟到",type:"danger"},{id:3,value:"早退",type:"danger"},{id:4,value:"时长不够",type:"danger"},{id:5,value:"请假",type:"warning"},{id:6,value:"加班",type:"info"},{id:7,value:"补办工时",type:""}],f=[{text:"上一周",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:"上个月",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"三月前",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}],h=()=>{s.startTime=n.value[0]?de(n.value[0],"YYYY-MM-DD HH:mm:ss").value:"",s.endTime=n.value[1]?de(n.value[1],"YYYY-MM-DD HH:mm:ss").value:""},g=async e=>{var a;l.value=!0;const n=c({username:e||(null==(a=o.value)?void 0:a.username)||"",size:20,current:0}),{data:s}=await Ie(n);l.value=!1,t.value=s.records.map((e=>({id:e.id,label:e.username,value:e})))};b((()=>{g("")}));const y=d(),S=d(),x=d(),V=c({title:"",showClose:!0,escClosable:!0,maskClosable:!0,beforeHideMethod:()=>{var e;return null==(e=S.value)||e.clearValidate(),Promise.resolve()}}),I=c({loading:!0,border:!0,autoResize:!0,showHeaderOverflow:!0,showOverflow:!0,keepSource:!0,columnConfig:{resizable:!0},pagerConfig:{align:"right"},printConfig:{columns:[{field:"username"},{field:"phoneNum"},{field:"roles"},{field:"avatar"}]},formConfig:{items:[{field:"username",slots:{default:"userName_item"}},{field:"status",slots:{default:"status_item"}},{field:"startTime",slots:{default:"startTime_item"}},{itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"查询",status:"primary"}}]}}]},toolbarConfig:{refresh:!0,custom:!0,export:!0,print:!0,zoom:!0},customConfig:{checkMethod:({column:e})=>!["username"].includes(e.field)},exportConfig:{modes:["current","selected","all"]},columns:[{type:"seq",width:"50px",title:"序号"},{field:"user.username",title:"用户名",width:"80px"},{field:"signInTime",title:"签到时间"},{field:"signOutTime",title:"签退时间"},{field:"workTime",title:"工作时长（小时）"},{field:"createTime",title:"打卡日期"},{field:"status",width:"80px",title:"状态",slots:{default:"row-status"}},{title:"操作",width:"200px",fixed:"right",showOverflow:!1,slots:{default:"row-operate"}}],proxyConfig:{seq:!0,form:!0,props:{total:"total"},ajax:{query:({page:e,form:t})=>(I.loading=!0,z.clearTable(),new Promise((t=>{var l;let a=0,n=[];const i=e=>{if(e&&e.data){const t=e.data;Number.isInteger(t.total)&&(a=t.total),Array.isArray(t.records)&&(n=t.records)}I.loading=!1,t({total:a,result:n})};(function(e){return re({url:"sys-check/list",method:"get",params:e})})({userId:(null==(l=o.value)?void 0:l.id)||"",startTime:s.startTime||"",endTime:s.endTime||"",status:r.value,size:e.pageSize,current:e.currentPage}).then(i).catch(i)})))}}}),M=c({span:24,titleWidth:"100px",loading:!1,titleColon:!1,data:{id:"",username:"",userId:"",createTime:"",addTime:0,overTime:0,status:7,des:"管理员操作：工时补加"},items:[{field:"username",title:"用户名",itemRender:{name:"$input",props:{placeholder:"请输入用户名"}}},{field:"createTime",title:"打卡日期",itemRender:{name:"$input",props:{placeholder:"请输入打卡日期"}}},{field:"addTime",title:"补加工时(h)",itemRender:{name:"$input",props:{placeholder:"请输入补充工时"}}},{field:"overTime",title:"加班时长(h)",itemRender:{name:"$input",props:{placeholder:"请输入加班时长"}}},{align:"right",itemRender:{name:"$buttons",children:[{props:{content:"取消"},events:{click:()=>{var e;return null==(e=x.value)?void 0:e.close()}}},{props:{type:"submit",content:"确定",status:"primary"},events:{click:()=>z.onSubmitForm()}}]}}],rules:{addTime:[{validator:({itemValue:e})=>e?Oe(e)?void 0:new Error("请输入数字"):new Error("请输入补加工时")}],overTime:[{validator:({itemValue:e})=>e?Oe(e)?void 0:new Error("请输入数字"):new Error("请输入加班时长")}]}}),z=c({isUpdate:!0,commitQuery:()=>{var e;return null==(e=y.value)?void 0:e.commitProxy("query")},clearTable:()=>{var e;return null==(e=y.value)?void 0:e.reloadData([])},onShowModal:e=>{var t,l,a,o,n;e&&(z.isUpdate=!0,V.title="修改考勤数据",M.data.id=e.id,M.data.username=e.user.username,M.data.userId=e.user.id,M.data.addTime=e.addTime||0,M.data.overTime=e.overTime||0,M.data.createTime=e.createTime),M.items&&((null==(l=null==(t=M.items[0])?void 0:t.itemRender)?void 0:l.props)&&(M.items[0].itemRender.props.disabled=z.isUpdate),(null==(o=null==(a=M.items[1])?void 0:a.itemRender)?void 0:o.props)&&(M.items[1].itemRender.props.disabled=z.isUpdate)),null==(n=x.value)||n.open(),w((()=>{var e,t;!z.isUpdate&&(null==(e=S.value)||e.reset()),null==(t=S.value)||t.clearValidate()}))},onShowDialog:e=>{a.value=!0,u.value=e},onSubmitForm:()=>{var e;M.loading||null==(e=S.value)||e.validate((e=>{if(e)return;M.loading=!0;const t=e=>{var t;M.loading=!1,200===e.code&&(null==(t=x.value)||t.close(),ce.success("操作成功"),!z.isUpdate&&z.afterInsert(),z.commitQuery())};var l;z.isUpdate&&(l=M.data,re({url:"sys-check/admin/edit",method:"put",data:l})).then((e=>t(e))).catch((e=>t(e))),M.data={}}))},afterInsert:()=>{var e,t;const l=null==(t=null==(e=y.value)?void 0:e.getProxyInfo())?void 0:t.pager;if(l){l.currentPage*l.pageSize===l.total&&++l.currentPage}}});return(e,s)=>{var d,c;const b=we,w=Ve,k=Zt,E=be,R=ge,_=Q("vxe-grid"),N=Q("vxe-form"),j=Q("vxe-modal"),L=fe,$=Me,F=he,H=ve,W=pe;return C(),T("div",Jt,[B(_,D({ref_key:"xGridDom",ref:y},I),{userName_item:J((()=>[B(w,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e),"value-key":"id","remote-show-suffix":"",filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请输入员工的姓名","remote-method":g,loading:l.value},{default:J((()=>[(C(!0),T(te,null,le(t.value,(e=>(C(),ae(b,{key:e.id,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","loading"])])),status_item:J((()=>[B(k,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=e=>r.value=e),options:m,placeholder:"请选择状态","value-key":"status"},null,8,["modelValue"])])),startTime_item:J((()=>[B(E,{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=e=>n.value=e),type:"datetimerange","start-placeholder":"开始时间","end-placeholder":"结束时间","default-time":p(i),shortcuts:f,"value-format":"YYYY-MM-DD HH:mm:ss",format:"YYYY-MM-DD HH:mm:ss","range-separator":"至",onChange:h},null,8,["modelValue","default-time"])])),"row-status":J((({row:e})=>[B(Ce,{status:parseInt(e.status),"status-list":v},null,8,["status"])])),"row-operate":J((({row:e})=>[B(R,{link:"",type:"primary",onClick:t=>z.onShowDialog(e)},{default:J((()=>[el,ue(" 查看详情 ")])),_:2},1032,["onClick"]),B(R,{link:"",type:"danger",onClick:t=>z.onShowModal(e)},{default:J((()=>[tl,ue(" 编辑信息 ")])),_:2},1032,["onClick"])])),_:1},16),B(j,D({ref_key:"xModalDom",ref:x},V),{default:J((()=>[B(N,D({ref_key:"xFormDom",ref:S},M),null,16)])),_:1},16),B(W,{modelValue:a.value,"onUpdate:modelValue":s[3]||(s[3]=e=>a.value=e),"destroy-on-close":"",title:`${null==(d=u.value)?void 0:d.user.username} ${p(de)(null==(c=u.value)?void 0:c.createTime,"YYYY-MM-DD").value}考勤数据`,width:"600px",style:{"z-index":"10004 !important"}},{default:J((()=>[B(H,{height:"400px"},{default:J((()=>{var e,t;return[B(F,{title:"员工信息",column:2,"label-align":"right"},{default:J((()=>[B(L,{label:"姓名"},{default:J((()=>{var e;return[ue(O(null==(e=u.value)?void 0:e.user.username),1)]})),_:1}),B(L,{label:"手机号码"},{default:J((()=>{var e;return[ue(O(null==(e=u.value)?void 0:e.user.phoneNum),1)]})),_:1}),B(L,{label:"部门"},{default:J((()=>[ue(" Suzhou ")])),_:1}),B(L,{label:"职位"},{default:J((()=>[B($,{size:"small"},{default:J((()=>[ue(" School ")])),_:1})])),_:1})])),_:1}),a.value?(C(),ae(F,{key:0,title:"考勤数据",column:2,border:""},{default:J((()=>[B(L,{label:"打卡日期"},{default:J((()=>[ue(O(u.value.createTime||"N/A"),1)])),_:1}),B(L,{label:"签到时间"},{default:J((()=>[ue(O(u.value.signInTime||"N/A"),1)])),_:1}),B(L,{label:"签退时间"},{default:J((()=>[ue(O(u.value.signOutTime||"N/A"),1)])),_:1}),B(L,{label:"工作时长"},{default:J((()=>[ue(O(u.value.workTime||0),1)])),_:1}),B(L,{label:"加班时长"},{default:J((()=>[ue(O(u.value.overTime||0),1)])),_:1}),B(L,{label:"补加时长"},{default:J((()=>[ue(O(u.value.addTime||0),1)])),_:1}),B(L,{label:"考勤日志"},{default:J((()=>[ue(O(u.value.des),1)])),_:1})])),_:1})):ee("",!0),ll,B(Te,{lng:null==(e=u.value)?void 0:e.lon,lat:null==(t=u.value)?void 0:t.lat},null,8,["lng","lat"])]})),_:1})])),_:1},8,["modelValue","title"])])}}});export{ol as default};
