import{b as e,g as t,d as n,u as o,y as s,a as l,c as a,n as i,f as r,e as u,H as d,aa as c,_ as v,s as b,r as m,Q as g,bP as f,aJ as p,U as y,w as x,D as k,C,I as w,T as h,bQ as L,t as $,M as A,aS as V,a2 as B,V as S,bz as I,L as P,a1 as E,bv as z,bR as T}from"./index-b8a3a250.js";const N=e({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:t(String),default:"solid"}}),O=n({name:"ElDivider"});const j=b(v(n({...O,props:N,setup(e){const t=e,n=o("divider"),v=s((()=>n.cssVar({"border-style":t.borderStyle})));return(e,t)=>(l(),a("div",{class:i([r(n).b(),r(n).m(e.direction)]),style:c(r(v)),role:"separator"},[e.$slots.default&&"vertical"!==e.direction?(l(),a("div",{key:0,class:i([r(n).e("text"),r(n).is(e.contentPosition)])},[u(e.$slots,"default")],2)):d("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]));function R(e){let t;const o=m(!1),s=g({...e,originalPosition:"",originalOverflow:"",visible:!1});function l(){var e,t;null==(t=null==(e=u.$el)?void 0:e.parentNode)||t.removeChild(u.$el)}function a(){if(!o.value)return;const e=s.parent;o.value=!1,e.vLoadingAddClassList=void 0,function(){const e=s.parent,t=u.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute("loading-number");n=Number.parseInt(n)-1,n?e.setAttribute("loading-number",n.toString()):(A(e,t.bm("parent","relative")),e.removeAttribute("loading-number")),A(e,t.bm("parent","hidden"))}l(),r.unmount()}()}const i=n({name:"ElLoading",setup(e,{expose:t}){const{ns:n}=f("loading"),o=p();return t({ns:n,zIndex:o}),()=>{const e=s.spinner||s.svg,t=y("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...e?{innerHTML:e}:{}},[y("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),o=s.text?y("p",{class:n.b("text")},[s.text]):void 0;return y(h,{name:n.b("fade"),onAfterLeave:a},{default:x((()=>[k(C("div",{style:{backgroundColor:s.background||""},class:[n.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[y("div",{class:n.b("spinner")},[t,o])]),[[w,s.visible]])]))})}}}),r=L(i),u=r.mount(document.createElement("div"));return{...$(s),setText:function(e){s.text=e},removeElLoadingChild:l,close:function(){var n;e.beforeClose&&!e.beforeClose()||(o.value=!0,clearTimeout(t),t=window.setTimeout(a,400),s.visible=!1,null==(n=e.closed)||n.call(e))},handleAfterLeave:a,vm:u,get $el(){return u.$el}}}let _;const D=function(e={}){if(!V)return;const t=H(e);if(t.fullscreen&&_)return _;const n=R({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(_=void 0)}});M(t,t.parent,n),Q(t,t.parent,n),t.parent.vLoadingAddClassList=()=>Q(t,t.parent,n);let o=t.parent.getAttribute("loading-number");return o=o?`${Number.parseInt(o)+1}`:"1",t.parent.setAttribute("loading-number",o),t.parent.appendChild(n.$el),B((()=>n.visible.value=t.visible)),t.fullscreen&&(_=n),n},H=e=>{var t,n,o,s;let l;return l=S(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:l===document.body||e.body?document.body:l,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:l===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(o=e.lock)&&o,customClass:e.customClass||"",visible:null==(s=e.visible)||s,target:l}},M=async(e,t,n)=>{const{nextZIndex:o}=n.vm.zIndex,s={};if(e.fullscreen)n.originalPosition.value=I(document.body,"position"),n.originalOverflow.value=I(document.body,"overflow"),s.zIndex=o();else if(e.parent===document.body){n.originalPosition.value=I(document.body,"position"),await B();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";s[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt(I(document.body,`margin-${t}`),10)+"px"}for(const t of["height","width"])s[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=I(t,"position");for(const[l,a]of Object.entries(s))n.$el.style[l]=a},Q=(e,t,n)=>{const o=n.vm.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?A(t,o.bm("parent","relative")):P(t,o.bm("parent","relative")),e.fullscreen&&e.lock?P(t,o.bm("parent","hidden")):A(t,o.bm("parent","hidden"))},q=Symbol("ElLoading"),J=(e,t)=>{var n,o,s,l;const a=t.instance,i=e=>E(t.value)?t.value[e]:void 0,r=t=>(e=>{const t=S(e)&&(null==a?void 0:a[e])||e;return t?m(t):t})(i(t)||e.getAttribute(`element-loading-${T(t)}`)),u=null!=(n=i("fullscreen"))?n:t.modifiers.fullscreen,d={text:r("text"),svg:r("svg"),svgViewBox:r("svgViewBox"),spinner:r("spinner"),background:r("background"),customClass:r("customClass"),fullscreen:u,target:null!=(o=i("target"))?o:u?void 0:e,body:null!=(s=i("body"))?s:t.modifiers.body,lock:null!=(l=i("lock"))?l:t.modifiers.lock};e[q]={options:d,instance:D(d)}},U={mounted(e,t){t.value&&J(e,t)},updated(e,t){const n=e[q];t.oldValue!==t.value&&(t.value&&!t.oldValue?J(e,t):t.value&&t.oldValue?E(t.value)&&((e,t)=>{for(const n of Object.keys(t))z(t[n])&&(t[n].value=e[n])})(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[q])||t.instance.close()}};export{j as E,U as v};
