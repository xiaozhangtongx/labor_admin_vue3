import{aO as e,h as t,y as l,aP as a,aQ as o,g as n,b as i,a0 as s,d as r,u,r as d,Q as c,f as p,R as m,S as v,U as f,G as h,a7 as g,o as b,aR as y,m as w,V as S,a2 as x,aS as I,_ as M,a as V,c as C,q as T,n as A,aa as O,k,aT as z,e as E,j as L,aI as U,C as _,F as R,aU as N,a1 as D,K as B,aE as j,aV as $,z as W,aW as P,aX as K,Z as F,E as H,aY as q,t as Y,p as G,B as Q,aZ as J,D as X,w as Z,H as ee,W as te,ah as le,l as ae,a8 as oe,I as ne,aC as ie,aD as se,a_ as re,aK as ue,a4 as de,aM as ce,an as pe}from"./index-9a706b5e.js";import{E as me}from"./el-dialog-94ce5d08.js";import"./el-overlay-d6f3b381.js";import{B as ve,E as fe}from"./el-scrollbar-c33e6783.js";import{E as he,a as ge}from"./el-descriptions-item-2ae00c61.js";/* empty css               */import{E as be}from"./el-button-cb2bce56.js";import{E as ye}from"./el-date-picker-6649cb00.js";/* empty css                 */import{a as we,b as Se,E as xe}from"./el-popper-9f38ba83.js";import{E as Ie,a as Me}from"./el-select-cf6a8710.js";import{g as Ve}from"./index-13048bd1.js";import{_ as Ce}from"./index.vue_vue_type_script_setup_true_lang-ee812c46.js";import{a as Te}from"./validate-8460febd.js";import{E as Ae}from"./index-69566457.js";import{i as Oe}from"./validator-1ce7f714.js";import{i as ke,a as ze}from"./index-e3536c2f.js";import{u as Ee,a as Le}from"./use-form-item-14a057db.js";import{e as Ue}from"./strings-0eeb67c0.js";import{i as _e,d as Re,U as Ne,C as De}from"./event-15d81b97.js";import{d as Be}from"./debounce-de061bf0.js";import{i as je}from"./isEqual-8163224d.js";import{C as $e}from"./index-8785ff64.js";import"./focus-trap-4f47c9e6.js";import"./refs-b9a36019.js";import"./scroll-8c03f05f.js";import"./flatten-0d005a2e.js";import"./_Uint8Array-c1224f14.js";import"./index-dfaaa1d6.js";import"./index-c887b90a.js";const We=t=>e?window.requestAnimationFrame(t):setTimeout(t,16),Pe=t=>e?window.cancelAnimationFrame(t):clearTimeout(t);var Ke=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Fe(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(a=e[l],o=t[l],!(a===o||Ke(a)&&Ke(o)))return!1;var a,o;return!0}const He=()=>{const e=t().proxy.$props;return l((()=>{const t=(e,t,l)=>({});return e.perfMode?a(t):function(e,t){void 0===t&&(t=Fe);var l=null;function a(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(l&&l.lastThis===this&&t(a,l.lastArgs))return l.lastResult;var n=e.apply(this,a);return l={lastResult:n,lastArgs:a,lastThis:this},n}return a.clear=function(){l=null},a}(t)}))},qe="itemRendered",Ye="scroll",Ge="forward",Qe="backward",Je="auto",Xe="smart",Ze="start",et="center",tt="horizontal",lt="vertical",at="rtl",ot="negative",nt="positive-ascending",it="positive-descending",st={[tt]:"left",[lt]:"top"},rt={[tt]:"deltaX",[lt]:"deltaY"},ut=o({type:n([Number,Function]),required:!0}),dt=o({type:Number}),ct=o({type:Number,default:2}),pt=o({type:String,values:["ltr","rtl"],default:"ltr"}),mt=o({type:Number,default:0}),vt=o({type:Number,required:!0}),ft=o({type:String,values:["horizontal","vertical"],default:lt}),ht=i({className:{type:String,default:""},containerElement:{type:n([String,Object]),default:"div"},data:{type:n(Array),default:()=>s([])},direction:pt,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:n([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),gt=i({cache:ct,estimatedItemSize:dt,layout:ft,initScrollOffset:mt,total:vt,itemSize:ut,...ht}),bt={type:Number,default:6},yt={type:Number,default:0},wt={type:Number,default:2};i({columnCache:ct,columnWidth:ut,estimatedColumnWidth:dt,estimatedRowHeight:dt,initScrollLeft:mt,initScrollTop:mt,itemKey:{type:n(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:ct,rowHeight:ut,totalColumn:vt,totalRow:vt,hScrollbarSize:bt,vScrollbarSize:bt,scrollbarStartGap:yt,scrollbarEndGap:wt,role:String,...ht});const St=i({alwaysOn:Boolean,class:String,layout:ft,total:vt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:bt,startGap:yt,endGap:wt,visible:Boolean}),xt=(e,t)=>e<t?Ge:Qe,It=e=>"ltr"===e||e===at||e===tt;let Mt=null;function Vt(e=!1){if(null===Mt||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const l=document.createElement("div"),a=l.style;return a.width="100px",a.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?Mt=it:(e.scrollLeft=1,Mt=0===e.scrollLeft?ot:nt),document.body.removeChild(e),Mt}return Mt}const Ct=r({name:"ElVirtualScrollBar",props:St,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const a=l((()=>e.startGap+e.endGap)),o=u("virtual-scrollbar"),n=u("scrollbar"),i=d(),s=d();let r=null,g=null;const b=c({isDragging:!1,traveled:0}),y=l((()=>ve[e.layout])),w=l((()=>e.clientSize-p(a))),S=l((()=>({position:"absolute",width:`${tt===e.layout?w.value:e.scrollbarSize}px`,height:`${tt===e.layout?e.scrollbarSize:w.value}px`,[st[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),x=l((()=>{const t=e.ratio,l=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*l/100;const a=l/3;return Math.floor(Math.min(Math.max(t*l,20),a))})),I=l((()=>{if(!Number.isFinite(x.value))return{display:"none"};const t=`${x.value}px`,l=function({move:e,size:t,bar:l},a){const o={},n=`translate${l.axis}(${e}px)`;return o[l.size]=t,o.transform=n,o.msTransform=n,o.webkitTransform=n,"horizontal"===a?o.height="100%":o.width="100%",o}({bar:y.value,size:t,move:b.traveled},e.layout);return l})),M=l((()=>Math.floor(e.clientSize-x.value-p(a)))),V=()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",T),document.onselectstart=g,g=null;const e=p(s);e&&(e.removeEventListener("touchmove",A),e.removeEventListener("touchend",T))},C=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(b.isDragging=!0,b[y.value.axis]=e.currentTarget[y.value.offset]-(e[y.value.client]-e.currentTarget.getBoundingClientRect()[y.value.direction]),t("start-move"),(()=>{window.addEventListener("mousemove",A),window.addEventListener("mouseup",T);const e=p(s);e&&(g=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",A),e.addEventListener("touchend",T))})())},T=()=>{b.isDragging=!1,b[y.value.axis]=0,t("stop-move"),V()},A=l=>{const{isDragging:a}=b;if(!a)return;if(!s.value||!i.value)return;const o=b[y.value.axis];if(!o)return;Pe(r);const n=-1*(i.value.getBoundingClientRect()[y.value.direction]-l[y.value.client])-(s.value[y.value.offset]-o);r=We((()=>{b.traveled=Math.max(e.startGap,Math.min(n,M.value)),t("scroll",n,M.value)}))},O=e=>{const l=Math.abs(e.target.getBoundingClientRect()[y.value.direction]-e[y.value.client])-s.value[y.value.offset]/2;b.traveled=Math.max(0,Math.min(l,M.value)),t("scroll",l,M.value)};return m((()=>e.scrollFrom),(e=>{b.isDragging||(b.traveled=Math.ceil(e*M.value))})),v((()=>{V()})),()=>f("div",{role:"presentation",ref:i,class:[o.b(),e.class,(e.alwaysOn||b.isDragging)&&"always-on"],style:S.value,onMousedown:h(O,["stop","prevent"]),onTouchstartPrevent:C},f("div",{ref:s,class:n.e("thumb"),style:I.value,onMousedown:C},[]))}}),Tt=({name:a,getOffset:o,getItemSize:n,getItemOffset:i,getEstimatedTotalSize:s,getStartIndexForOffset:c,getStopIndexForStartIndex:m,initCache:v,clearCache:h,validateProps:M})=>r({name:null!=a?a:"ElVirtualList",props:gt,emits:[qe,Ye],setup(a,{emit:r,expose:f}){M(a);const w=t(),S=u("vl"),V=d(v(a,w)),C=He(),T=d(),A=d(),O=d(),k=d({isScrolling:!1,scrollDir:"forward",scrollOffset:g(a.initScrollOffset)?a.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:a.scrollbarAlwaysOn}),z=l((()=>{const{total:e,cache:t}=a,{isScrolling:l,scrollDir:o,scrollOffset:n}=p(k);if(0===e)return[0,0,0,0];const i=c(a,n,p(V)),s=m(a,i,n,p(V)),r=l&&o!==Qe?1:Math.max(1,t),u=l&&o!==Ge?1:Math.max(1,t);return[Math.max(0,i-r),Math.max(0,Math.min(e-1,s+u)),i,s]})),E=l((()=>s(a,p(V)))),L=l((()=>It(a.layout))),U=l((()=>[{position:"relative",["overflow-"+(L.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:a.direction,height:g(a.height)?`${a.height}px`:a.height,width:g(a.width)?`${a.width}px`:a.width},a.style])),_=l((()=>{const e=p(E),t=p(L);return{height:t?"100%":`${e}px`,pointerEvents:p(k).isScrolling?"none":void 0,width:t?`${e}px`:"100%"}})),R=l((()=>L.value?a.width:a.height)),{onWheel:N}=(({atEndEdge:e,atStartEdge:t,layout:l},a)=>{let o,n=0;const i=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:i,onWheel:e=>{Pe(o);const t=e[rt[l.value]];i(n)&&i(n+t)||(n+=t,ke()||e.preventDefault(),o=We((()=>{a(n),n=0})))}}})({atStartEdge:l((()=>k.value.scrollOffset<=0)),atEndEdge:l((()=>k.value.scrollOffset>=E.value)),layout:l((()=>a.layout))},(e=>{var t,l;null==(l=(t=O.value).onMouseUp)||l.call(t),B(Math.min(k.value.scrollOffset+e,E.value-R.value))})),D=()=>{const{total:e}=a;if(e>0){const[e,t,l,a]=p(z);r(qe,e,t,l,a)}const{scrollDir:t,scrollOffset:l,updateRequested:o}=p(k);r(Ye,t,l,o)},B=e=>{(e=Math.max(e,0))!==p(k).scrollOffset&&(k.value={...p(k),scrollOffset:e,scrollDir:xt(p(k).scrollOffset,e),updateRequested:!0},x($))},j=(e,t=Je)=>{const{scrollOffset:l}=p(k);e=Math.max(0,Math.min(e,a.total-1)),B(o(a,e,t,l,p(V)))},$=()=>{k.value.isScrolling=!1,x((()=>{C.value(-1,null,null)}))},W=()=>{const e=T.value;e&&(e.scrollTop=0)};b((()=>{if(!e)return;const{initScrollOffset:t}=a,l=p(T);g(t)&&l&&(p(L)?l.scrollLeft=t:l.scrollTop=t),D()})),y((()=>{const{direction:e,layout:t}=a,{scrollOffset:l,updateRequested:o}=p(k),n=p(T);if(o&&n)if(t===tt)if(e===at)switch(Vt()){case ot:n.scrollLeft=-l;break;case nt:n.scrollLeft=l;break;default:{const{clientWidth:e,scrollWidth:t}=n;n.scrollLeft=t-e-l;break}}else n.scrollLeft=l;else n.scrollTop=l}));const P={ns:S,clientSize:R,estimatedTotalSize:E,windowStyle:U,windowRef:T,innerRef:A,innerStyle:_,itemsToRender:z,scrollbarRef:O,states:k,getItemStyle:e=>{const{direction:t,itemSize:l,layout:o}=a,s=C.value(h&&l,h&&o,h&&t);let r;if(I(s,String(e)))r=s[e];else{const l=i(a,e,p(V)),o=n(a,e,p(V)),u=p(L),d=t===at,c=u?l:0;s[e]=r={position:"absolute",left:d?void 0:`${c}px`,right:d?`${c}px`:void 0,top:u?0:`${l}px`,height:u?"100%":`${o}px`,width:u?`${o}px`:"100%"}}return r},onScroll:e=>{p(L)?(e=>{const{clientWidth:t,scrollLeft:l,scrollWidth:o}=e.currentTarget,n=p(k);if(n.scrollOffset===l)return;const{direction:i}=a;let s=l;if(i===at)switch(Vt()){case ot:s=-l;break;case it:s=o-t-l}s=Math.max(0,Math.min(s,o-t)),k.value={...n,isScrolling:!0,scrollDir:xt(n.scrollOffset,s),scrollOffset:s,updateRequested:!1},x($)})(e):(e=>{const{clientHeight:t,scrollHeight:l,scrollTop:a}=e.currentTarget,o=p(k);if(o.scrollOffset===a)return;const n=Math.max(0,Math.min(a,l-t));k.value={...o,isScrolling:!0,scrollDir:xt(o.scrollOffset,n),scrollOffset:n,updateRequested:!1},x($)})(e),D()},onScrollbarScroll:(e,t)=>{const l=(E.value-R.value)/t*e;B(Math.min(E.value-R.value,l))},onWheel:N,scrollTo:B,scrollToItem:j,resetScrollTop:W};return f({windowRef:T,innerRef:A,getItemStyleCache:C,scrollTo:B,scrollToItem:j,resetScrollTop:W,states:k}),P},render(e){var t;const{$slots:l,className:a,clientSize:o,containerElement:n,data:i,getItemStyle:s,innerElement:r,itemsToRender:u,innerStyle:d,layout:c,total:p,onScroll:m,onScrollbarScroll:v,onWheel:h,states:g,useIsScrolling:b,windowStyle:y,ns:x}=e,[I,M]=u,V=w(n),C=w(r),T=[];if(p>0)for(let f=I;f<=M;f++)T.push(null==(t=l.default)?void 0:t.call(l,{data:i,key:f,index:f,isScrolling:b?g.isScrolling:void 0,style:s(f)}));const A=[f(C,{style:d,ref:"innerRef"},S(C)?T:{default:()=>T})],O=f(Ct,{ref:"scrollbarRef",clientSize:o,layout:c,onScroll:v,ratio:100*o/this.estimatedTotalSize,scrollFrom:g.scrollOffset/(this.estimatedTotalSize-o),total:p}),k=f(V,{class:[x.e("window"),a],style:y,onScroll:m,onWheel:h,ref:"windowRef",key:0},S(V)?[A]:{default:()=>[A]});return f("div",{key:0,class:[x.e("wrapper"),g.scrollbarAlwaysOn?"always-on":""]},[k,O])}}),At=Tt({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:l,layout:a,width:o},n,i,s)=>{const r=It(a)?o:e,u=Math.max(0,t*l-r),d=Math.min(u,n*l),c=Math.max(0,(n+1)*l-r);switch(i===Xe&&(i=s>=c-r&&s<=d+r?Je:et),i){case Ze:return d;case"end":return c;case et:{const e=Math.round(c+(d-c)/2);return e<Math.ceil(r/2)?0:e>u+Math.floor(r/2)?u:e}default:return s>=c&&s<=d?s:s<c?c:d}},getStartIndexForOffset:({total:e,itemSize:t},l)=>Math.max(0,Math.min(e-1,Math.floor(l/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:l,layout:a,width:o},n,i)=>{const s=n*l,r=It(a)?o:e,u=Math.ceil((r+i-s)/l);return Math.max(0,Math.min(t-1,n+u-1))},initCache(){},clearCache:!0,validateProps(){}}),Ot=(e,t,l)=>{const{itemSize:a}=e,{items:o,lastVisitedIndex:n}=l;if(t>n){let e=0;if(n>=0){const t=o[n];e=t.offset+t.size}for(let l=n+1;l<=t;l++){const t=a(l);o[l]={offset:e,size:t},e+=t}l.lastVisitedIndex=t}return o[t]},kt=(e,t,l,a,o)=>{for(;l<=a;){const n=l+Math.floor((a-l)/2),i=Ot(e,n,t).offset;if(i===o)return n;i<o?l=n+1:i>o&&(a=n-1)}return Math.max(0,l-1)},zt=(e,t,l,a)=>{const{total:o}=e;let n=1;for(;l<o&&Ot(e,l,t).offset<a;)l+=n,n*=2;return kt(e,t,Math.floor(l/2),Math.min(l,o-1),a)},Et=({total:e},{items:t,estimatedItemSize:l,lastVisitedIndex:a})=>{let o=0;if(a>=e&&(a=e-1),a>=0){const e=t[a];o=e.offset+e.size}return o+(e-a-1)*l},Lt=Tt({name:"ElDynamicSizeList",getItemOffset:(e,t,l)=>Ot(e,t,l).offset,getItemSize:(e,t,{items:l})=>l[t].size,getEstimatedTotalSize:Et,getOffset:(e,t,l,a,o)=>{const{height:n,layout:i,width:s}=e,r=It(i)?s:n,u=Ot(e,t,o),d=Et(e,o),c=Math.max(0,Math.min(d-r,u.offset)),p=Math.max(0,u.offset-r+u.size);switch(l===Xe&&(l=a>=p-r&&a<=c+r?Je:et),l){case Ze:return c;case"end":return p;case et:return Math.round(p+(c-p)/2);default:return a>=p&&a<=c?a:a<p?p:c}},getStartIndexForOffset:(e,t,l)=>((e,t,l)=>{const{items:a,lastVisitedIndex:o}=t;return(o>0?a[o].offset:0)>=l?kt(e,t,0,o,l):zt(e,t,Math.max(0,o),l)})(e,l,t),getStopIndexForStartIndex:(e,t,l,a)=>{const{height:o,total:n,layout:i,width:s}=e,r=It(i)?s:o,u=Ot(e,t,a),d=l+r;let c=u.offset+u.size,p=t;for(;p<n-1&&c<d;)p++,c+=Ot(e,p,a).size;return p},initCache({estimatedItemSize:e=50},t){const l={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,a=!0)=>{var o,n;l.lastVisitedIndex=Math.min(l.lastVisitedIndex,e-1),null==(o=t.exposed)||o.getItemStyleCache(-1),a&&(null==(n=t.proxy)||n.$forceUpdate())}};return l},clearCache:!1,validateProps:({itemSize:e})=>{}});var Ut=M(r({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:u("select")})}),[["render",function(e,t,l,a,o,n){return e.item.isTitle?(V(),C("div",{key:0,class:A(e.ns.be("group","title")),style:O([e.style,{lineHeight:`${e.height}px`}])},T(e.item.label),7)):(V(),C("div",{key:1,class:A(e.ns.be("group","split")),style:O(e.style)},[k("span",{class:A(e.ns.be("group","split-dash")),style:O({top:e.height/2+"px"})},null,6)],6))}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);const _t={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:z},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:we.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Oe},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:n(String),values:Se,default:"bottom-start"}},Rt={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Nt=r({props:Rt,emits:["select","hover"],setup(e,{emit:t}){const l=u("select"),{hoverItem:a,selectOptionClick:o}=function(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}(e,{emit:t});return{ns:l,hoverItem:a,selectOptionClick:o}}}),Dt=["aria-selected"];var Bt=M(Nt,[["render",function(e,t,l,a,o,n){return V(),C("li",{"aria-selected":e.selected,style:O(e.style),class:A([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=h(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[E(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[k("span",null,T(e.item.label),1)]))],46,Dt)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const jt=Symbol("ElSelectV2Injection");var $t=r({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:a}){const o=L(jt),n=u("select"),i=d([]),s=d(),r=l((()=>e.data.length));m((()=>r.value),(()=>{var e,t;null==(t=(e=o.popper.value).updatePopper)||t.call(e)}));const c=l((()=>U(o.props.estimatedOptionHeight))),v=l((()=>c.value?{itemSize:o.props.itemHeight}:{estimatedSize:o.props.estimatedOptionHeight,itemSize:e=>i.value[e]})),f=(e,t)=>{const{valueKey:l}=o.props;return o.props.multiple?((e=[],t)=>{const{props:{valueKey:l}}=o;return D(t)?e&&e.some((e=>N(e,l)===N(t,l))):e.includes(t)})(e,N(t,l)):((e,t)=>{if(D(t)){const{valueKey:l}=o.props;return N(e,l)===N(t,l)}return e===t})(e,N(t,l))},h=(e,t)=>{const{disabled:l,multiple:a,multipleLimit:n}=o.props;return l||!t&&!!a&&n>0&&e.length>=n},g=t=>e.hoveringIndex===t;a({listRef:s,isSized:c,isItemDisabled:h,isItemHovering:g,isItemSelected:f,scrollToItem:e=>{const t=s.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{const e=s.value;e&&e.resetScrollTop()}});const b=e=>{const{index:l,data:a,style:n}=e,i=p(c),{itemSize:s,estimatedSize:r}=p(v),{modelValue:u}=o.props,{onSelect:d,onHover:m}=o,b=a[l];if("Group"===b.type)return _(Ut,{item:b,style:n,height:i?s:r},null);const y=f(u,b),w=h(u,y),S=g(l);return _(Bt,R(e,{selected:y,disabled:b.disabled||w,created:!!b.created,hovering:S,item:b,onSelect:d,onHover:m}),{default:e=>{var l;return(null==(l=t.default)?void 0:l.call(t,e))||_("span",null,[b.label])}})},{onKeyboardNavigate:y,onKeyboardSelect:w}=o,S=e=>{const{code:t}=e,{tab:l,esc:a,down:n,up:i,enter:s}=B;switch(t!==l&&(e.preventDefault(),e.stopPropagation()),t){case l:case a:o.expanded=!1;break;case n:y("forward");break;case i:y("backward");break;case s:w()}};return()=>{var l;const{data:a,width:i}=e,{height:r,multiple:u,scrollbarAlwaysOn:d}=o.props;if(0===a.length)return _("div",{class:n.b("dropdown"),style:{width:`${i}px`}},[null==(l=t.empty)?void 0:l.call(t)]);const m=p(c)?At:Lt;return _("div",{class:[n.b("dropdown"),n.is("multiple",u)]},[_(m,R({ref:s},p(v),{className:n.be("dropdown","list"),scrollbarAlwaysOn:d,data:a,height:r,width:i,total:a.length,onKeydown:S}),{default:e=>_(b,e,null)})])}}});function Wt(e,t){const a=d(0),o=d(null),n=l((()=>e.allowCreate&&e.filterable));return{createNewOption:function(l){if(n.value)if(l&&l.length>0&&!function(l){const a=e=>e.value===l;return e.options&&e.options.some(a)||t.createdOptions.some(a)}(l)){const e={value:l,label:l,created:!0,disabled:!1};t.createdOptions.length>=a.value?t.createdOptions[a.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=a.value;else{const e=o.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}},removeNewOption:function(l){if(!n.value||!l||!l.created||l.created&&e.reserveKeyword&&t.inputValue===l.label)return;const o=t.createdOptions.findIndex((e=>e.value===l.value));~o&&(t.createdOptions.splice(o,1),a.value--)},selectNewOption:function(t){n.value&&(e.multiple&&t.created?a.value++:o.value=t)},clearAllNewOption:function(){n.value&&(t.createdOptions.length=0,a.value=0)}}}const Pt={larget:51,default:42,small:33},Kt=(e,t)=>{const{t:a}=W(),o=u("select-v2"),n=u("input"),{form:i,formItem:s}=Ee(),r=c({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),p=d(-1),v=d(-1),f=d(null),h=d(null),g=d(null),y=d(null),w=d(null),S=d(null),I=d(null),M=d(!1),V=l((()=>e.disabled||(null==i?void 0:i.disabled))),C=l((()=>{const t=34*_.value.length;return t>e.height?e.height:t})),T=l((()=>!_e(e.modelValue))),A=l((()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:T.value;return e.clearable&&!V.value&&r.comboBoxHovering&&t})),O=l((()=>e.remote&&e.filterable?"":P)),k=l((()=>O.value&&o.is("reverse",M.value))),z=l((()=>(null==s?void 0:s.validateState)||"")),E=l((()=>K[z.value])),L=l((()=>e.remote?300:0)),U=l((()=>{const t=_.value;return e.loading?e.loadingText||a("el.select.loading"):(!e.remote||""!==r.inputValue||0!==t.length)&&(e.filterable&&r.inputValue&&t.length>0?e.noMatchText||a("el.select.noMatch"):0===t.length?e.noDataText||a("el.select.noData"):null)})),_=l((()=>{const t=e=>{const t=r.inputValue,l=new RegExp(Ue(t),"i");return!t||l.test(e.label||"")};return e.loading?[]:(e=>{const t=[];return e.forEach((e=>{j(e.options)?(t.push({label:e.label,isTitle:!0,type:"Group"}),e.options.forEach((e=>{t.push(e)})),t.push({type:"Group"})):t.push(e)})),t})(e.options.concat(r.createdOptions).map((l=>{if(j(l.options)){const e=l.options.filter(t);if(e.length>0)return{...l,options:e}}else if(e.remote||t(l))return l;return null})).filter((e=>null!==e)))})),R=l((()=>_.value.every((e=>e.disabled)))),B=Le(),H=l((()=>"small"===B.value?"small":"default")),q=l((()=>{const e=S.value,t=H.value||"default",l=e?Number.parseInt(getComputedStyle(e).paddingLeft):0,a=e?Number.parseInt(getComputedStyle(e).paddingRight):0;return r.selectWidth-a-l-Pt[t]})),Y=()=>{var e;v.value=(null==(e=w.value)?void 0:e.offsetWidth)||200},G=l((()=>({width:`${0===r.calculatedWidth?11:Math.ceil(r.calculatedWidth)+11}px`}))),Q=l((()=>j(e.modelValue)?0===e.modelValue.length&&!r.displayInputValue:!e.filterable||0===r.displayInputValue.length)),J=l((()=>{const t=e.placeholder||a("el.select.placeholder");return e.multiple||_e(e.modelValue)?t:r.selectedLabel})),X=l((()=>{var e,t;return null==(t=null==(e=y.value)?void 0:e.popperRef)?void 0:t.contentRef})),Z=l((()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0)return _.value.findIndex((l=>l.value===e.modelValue[t-1]))}else if(e.modelValue)return _.value.findIndex((t=>t.value===e.modelValue));return-1})),ee=l({get:()=>M.value&&!1!==U.value,set(e){M.value=e}}),te=l((()=>r.cachedOptions.slice(0,e.maxCollapseTags))),le=l((()=>r.cachedOptions.slice(e.maxCollapseTags))),{createNewOption:ae,removeNewOption:oe,selectNewOption:ne,clearAllNewOption:ie}=Wt(e,r),{handleCompositionStart:se,handleCompositionUpdate:re,handleCompositionEnd:ue}=function(e){const t=d(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:e=>{const l=e.target.value,a=l[l.length-1]||"";t.value=!ze(a)},handleCompositionEnd:l=>{t.value&&(t.value=!1,$(e)&&e(l))}}}((e=>Ce(e))),de=()=>{var e,t,l;null==(t=null==(e=h.value)?void 0:e.focus)||t.call(e),null==(l=y.value)||l.updatePopper()},ce=()=>{if(!e.automaticDropdown)return V.value?void 0:(r.isComposing&&(r.softFocus=!0),x((()=>{var e,t;M.value=!M.value,null==(t=null==(e=h.value)?void 0:e.focus)||t.call(e)})))},pe=()=>(e.filterable&&r.inputValue!==r.selectedLabel&&(r.query=r.selectedLabel),ve(r.inputValue),x((()=>{ae(r.inputValue)}))),me=Be(pe,L.value),ve=t=>{r.previousQuery!==t&&(r.previousQuery=t,e.filterable&&$(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&$(e.remoteMethod)&&e.remoteMethod(t))},fe=l=>{t(Ne,l),(l=>{je(e.modelValue,l)||t(De,l)})(l),r.previousValue=null==l?void 0:l.toString()},he=t=>D(t)?N(t,e.valueKey):t,ge=()=>x((()=>{var e,t;if(!h.value)return;const l=S.value;w.value.height=l.offsetHeight,M.value&&!1!==U.value&&(null==(t=null==(e=y.value)?void 0:e.updatePopper)||t.call(e))})),be=()=>{var t,l;if(ye(),Y(),null==(l=null==(t=y.value)?void 0:t.updatePopper)||l.call(t),e.multiple)return ge()},ye=()=>{const e=S.value;e&&(r.selectWidth=e.getBoundingClientRect().width)},we=(t,l,a=!0)=>{var o,n;if(e.multiple){let a=e.modelValue.slice();const i=((t=[],l)=>{if(!D(l))return t.indexOf(l);const a=e.valueKey;let o=-1;return t.some(((e,t)=>N(e,a)===N(l,a)&&(o=t,!0))),o})(a,he(t));i>-1?(a=[...a.slice(0,i),...a.slice(i+1)],r.cachedOptions.splice(i,1),oe(t)):(e.multipleLimit<=0||a.length<e.multipleLimit)&&(a=[...a,he(t)],r.cachedOptions.push(t),ne(t),Me(l)),fe(a),t.created&&(r.query="",ve(""),r.inputLength=20),e.filterable&&!e.reserveKeyword&&(null==(n=(o=h.value).focus)||n.call(o),xe("")),e.filterable&&(r.calculatedWidth=I.value.getBoundingClientRect().width),ge(),Ve()}else p.value=l,r.selectedLabel=t.label,fe(he(t)),M.value=!1,r.isComposing=!1,r.isSilentBlur=a,ne(t),t.created||ie(),Me(l)},Se=e=>(r.softFocus=!1,x((()=>{var l,a;null==(a=null==(l=h.value)?void 0:l.blur)||a.call(l),I.value&&(r.calculatedWidth=I.value.getBoundingClientRect().width),r.isSilentBlur?r.isSilentBlur=!1:r.isComposing&&t("blur",e),r.isComposing=!1}))),xe=e=>{r.displayInputValue=e,r.inputValue=e},Ie=(e,t=undefined)=>{const l=_.value;if(!["forward","backward"].includes(e)||V.value||l.length<=0||R.value)return;if(!M.value)return ce();void 0===t&&(t=r.hoveringIndex);let a=-1;"forward"===e?(a=t+1,a>=l.length&&(a=0)):"backward"===e&&(a=t-1,(a<0||a>=l.length)&&(a=l.length-1));const o=l[a];if(o.disabled||"Group"===o.type)return Ie(e,a);Me(a),Te(a)},Me=e=>{r.hoveringIndex=e},Ve=()=>{var e;const t=h.value;t&&(null==(e=t.focus)||e.call(t))},Ce=t=>{const l=t.target.value;if(xe(l),r.displayInputValue.length>0&&!M.value&&(M.value=!0),r.calculatedWidth=I.value.getBoundingClientRect().width,e.multiple&&ge(),!e.remote)return pe();me()},Te=e=>{g.value.scrollToItem(e)},Ae=()=>{if(r.hoveringIndex=-1,e.multiple)if(e.modelValue.length>0){let t=!1;r.cachedOptions.length=0,r.previousValue=e.modelValue.toString(),e.modelValue.forEach((e=>{const l=_.value.findIndex((t=>he(t)===e));~l&&(r.cachedOptions.push(_.value[l]),t||Me(l),t=!0)}))}else r.cachedOptions=[],r.previousValue=void 0;else if(T.value){r.previousValue=e.modelValue;const t=_.value,l=t.findIndex((t=>he(t)===he(e.modelValue)));~l?(r.selectedLabel=t[l].label,Me(l)):r.selectedLabel=`${e.modelValue}`}else r.selectedLabel="",r.previousValue=void 0;ie(),Y()};return m(M,(e=>{var l,a;t("visible-change",e),e?null==(a=(l=y.value).update)||a.call(l):(r.displayInputValue="",r.previousQuery=null,ae(""))})),m((()=>e.modelValue),((t,l)=>{var a;t&&t.toString()===r.previousValue||Ae(),!je(t,l)&&e.validateEvent&&(null==(a=null==s?void 0:s.validate)||a.call(s,"change").catch((e=>Re())))}),{deep:!0}),m((()=>e.options),(()=>{const e=h.value;(!e||e&&document.activeElement!==e)&&Ae()}),{deep:!0}),m(_,(()=>x(g.value.resetScrollTop))),b((()=>{Ae()})),F(w,be),{collapseTagSize:H,currentPlaceholder:J,expanded:M,emptyText:U,popupHeight:C,debounce:L,filteredOptions:_,iconComponent:O,iconReverse:k,inputWrapperStyle:G,popperSize:v,dropdownMenuVisible:ee,hasModelValue:T,shouldShowPlaceholder:Q,selectDisabled:V,selectSize:B,showClearBtn:A,states:r,tagMaxWidth:q,nsSelectV2:o,nsInput:n,calculatorRef:I,controlRef:f,inputRef:h,menuRef:g,popper:y,selectRef:w,selectionRef:S,popperRef:X,validateState:z,validateIcon:E,showTagList:te,collapseTagList:le,debouncedOnInputChange:me,deleteTag:(l,a)=>{const{valueKey:o}=e,n=e.modelValue.indexOf(N(a,o));if(n>-1&&!V.value){const l=[...e.modelValue.slice(0,n),...e.modelValue.slice(n+1)];return r.cachedOptions.splice(n,1),fe(l),t("remove-tag",N(a,o)),r.softFocus=!0,oe(a),x(de)}l.stopPropagation()},getLabel:e=>D(e)?e.label:e,getValueKey:he,handleBlur:Se,handleClear:()=>{let l;return l=j(e.modelValue)?[]:void 0,r.softFocus=!0,e.multiple?r.cachedOptions=[]:r.selectedLabel="",M.value=!1,fe(l),t("clear"),ie(),x(de)},handleClickOutside:()=>(M.value=!1,Se()),handleDel:t=>{if(0===r.displayInputValue.length){t.preventDefault();const l=e.modelValue.slice();l.pop(),oe(r.cachedOptions.pop()),fe(l)}},handleEsc:()=>{r.displayInputValue.length>0?xe(""):M.value=!1},handleFocus:e=>{const l=r.isComposing;r.isComposing=!0,r.softFocus?r.softFocus=!1:l||t("focus",e)},handleMenuEnter:()=>(r.inputValue=r.displayInputValue,x((()=>{~Z.value&&(Me(Z.value),Te(r.hoveringIndex))}))),handleResize:be,toggleMenu:ce,scrollTo:Te,onInput:Ce,onKeyboardNavigate:Ie,onKeyboardSelect:()=>{if(!M.value)return ce();~r.hoveringIndex&&_.value[r.hoveringIndex]&&we(_.value[r.hoveringIndex],r.hoveringIndex,!1)},onSelect:we,onHover:Me,onUpdateInputValue:xe,handleCompositionStart:se,handleCompositionEnd:ue,handleCompositionUpdate:re}},Ft=r({name:"ElSelectV2",components:{ElSelectMenu:$t,ElTag:Ae,ElTooltip:xe,ElIcon:H},directives:{ClickOutside:$e,ModelText:q},props:_t,emits:[Ne,De,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const a=l((()=>{const{modelValue:t,multiple:l}=e,a=l?[]:void 0;return j(t)?l?t:a:l?a:t})),o=Kt(c({...Y(e),modelValue:a}),t);return G(jt,{props:c({...Y(e),height:o.popupHeight,modelValue:a}),popper:o.popper,onSelect:o.onSelect,onHover:o.onHover,onKeyboardNavigate:o.onKeyboardNavigate,onKeyboardSelect:o.onKeyboardSelect}),{...o,modelValue:a}}}),Ht={key:0},qt=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Yt=["textContent"],Gt=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Qt=["textContent"];var Jt=M(Ft,[["render",function(e,t,l,a,o,n){const i=Q("el-tag"),s=Q("el-tooltip"),r=Q("el-icon"),u=Q("el-select-menu"),d=J("model-text"),c=J("click-outside");return X((V(),C("div",{ref:"selectRef",class:A([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=h(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"])),onMouseenter:t[25]||(t[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=t=>e.states.comboBoxHovering=!1)},[_(s,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:Z((()=>[k("div",{ref:"selectionRef",class:A([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(V(),C("div",Ht,[E(e.$slots,"prefix")])):ee("v-if",!0),e.multiple?(V(),C("div",{key:1,class:A(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(V(),C(te,{key:0},[(V(!0),C(te,null,le(e.showTagList,(t=>(V(),C("div",{key:e.getValueKey(t),class:A(e.nsSelectV2.e("selected-item"))},[_(i,{closable:!e.selectDisabled&&!(null==t?void 0:t.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:Z((()=>[k("span",{class:A(e.nsSelectV2.e("tags-text")),style:O({maxWidth:`${e.tagMaxWidth}px`})},T(null==t?void 0:t.label),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),k("div",{class:A(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(V(),ae(i,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:Z((()=>[e.collapseTagsTooltip?(V(),ae(s,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:Z((()=>[k("span",{class:A(e.nsSelectV2.e("tags-text")),style:O({maxWidth:`${e.tagMaxWidth}px`})},"+ "+T(e.modelValue.length-e.maxCollapseTags),7)])),content:Z((()=>[k("div",{class:A(e.nsSelectV2.e("selection"))},[(V(!0),C(te,null,le(e.collapseTagList,(t=>(V(),C("div",{key:e.getValueKey(t),class:A(e.nsSelectV2.e("selected-item"))},[_(i,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:Z((()=>[k("span",{class:A(e.nsSelectV2.e("tags-text")),style:O({maxWidth:`${e.tagMaxWidth}px`})},T(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect"])):(V(),C("span",{key:1,class:A(e.nsSelectV2.e("tags-text")),style:O({maxWidth:`${e.tagMaxWidth}px`})},"+ "+T(e.modelValue.length-e.maxCollapseTags),7))])),_:1},8,["size"])):ee("v-if",!0)],2)],64)):(V(!0),C(te,{key:1},le(e.states.cachedOptions,(t=>(V(),C("div",{key:e.getValueKey(t),class:A(e.nsSelectV2.e("selected-item"))},[_(i,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:Z((()=>[k("span",{class:A(e.nsSelectV2.e("tags-text")),style:O({maxWidth:`${e.tagMaxWidth}px`})},T(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),k("div",{class:A([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:O(e.inputWrapperStyle)},[X(k("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:A([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[3]||(t[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:t[4]||(t[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[5]||(t[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[6]||(t[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[t[7]||(t[7]=oe(h((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[8]||(t[8]=oe(h((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[9]||(t[9]=oe(h(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=oe(h(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),t[11]||(t[11]=oe(h(((...t)=>e.handleDel&&e.handleDel(...t)),["stop"]),["delete"]))]},null,42,qt),[[d,e.states.displayInputValue]]),e.filterable?(V(),C("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:A(e.nsSelectV2.e("input-calculator")),textContent:T(e.states.displayInputValue)},null,10,Yt)):ee("v-if",!0)],6)],2)):(V(),C(te,{key:2},[k("div",{class:A([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[X(k("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:A(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:t[15]||(t[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[16]||(t[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[17]||(t[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[18]||(t[18]=oe(h((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[19]||(t[19]=oe(h((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[20]||(t[20]=oe(h(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[21]||(t[21]=oe(h(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,Gt),[[d,e.states.displayInputValue]])],2),e.filterable?(V(),C("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:A([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:T(e.states.displayInputValue)},null,10,Qt)):ee("v-if",!0)],64)),e.shouldShowPlaceholder?(V(),C("span",{key:3,class:A([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?0===e.modelValue.length:!e.hasModelValue)])},T(e.currentPlaceholder),3)):ee("v-if",!0),k("span",{class:A(e.nsSelectV2.e("suffix"))},[e.iconComponent?X((V(),ae(r,{key:0,class:A([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:Z((()=>[(V(),ae(w(e.iconComponent)))])),_:1},8,["class"])),[[ne,!e.showClearBtn]]):ee("v-if",!0),e.showClearBtn&&e.clearIcon?(V(),ae(r,{key:1,class:A([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:h(e.handleClear,["prevent","stop"])},{default:Z((()=>[(V(),ae(w(e.clearIcon)))])),_:1},8,["class","onClick"])):ee("v-if",!0),e.validateState&&e.validateIcon?(V(),ae(r,{key:2,class:A([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:Z((()=>[(V(),ae(w(e.validateIcon)))])),_:1},8,["class"])):ee("v-if",!0)],2)],2)])),content:Z((()=>[_(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:Z((t=>[E(e.$slots,"default",ie(se(t)))])),empty:Z((()=>[E(e.$slots,"empty",{},(()=>[k("p",{class:A(e.nsSelectV2.e("empty"))},T(e.emptyText?e.emptyText:""),3)]))])),_:3},8,["data","width","hovering-index","scrollbar-always-on"])])),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[c,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Jt.install=e=>{e.component(Jt.name,Jt)};const Xt=Jt;var Zt={};({get exports(){return Zt},set exports(e){Zt=e}}).exports=function(){function e(e){var a=[];return e.AMapUI&&a.push(t(e.AMapUI)),e.Loca&&a.push(l(e.Loca)),Promise.all(a)}function t(e){return new Promise((function(t,l){var o=[];if(e.plugins)for(var r=0;r<e.plugins.length;r+=1)-1==n.AMapUI.plugins.indexOf(e.plugins[r])&&o.push(e.plugins[r]);if(i.AMapUI===a.failed)l("前次请求 AMapUI 失败");else if(i.AMapUI===a.notload){i.AMapUI=a.loading,n.AMapUI.version=e.version||n.AMapUI.version,r=n.AMapUI.version;var u=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+r+"/main.js",d.onerror=function(e){i.AMapUI=a.failed,l("请求 AMapUI 失败")},d.onload=function(){if(i.AMapUI=a.loaded,o.length)window.AMapUI.loadUI(o,(function(){for(var e=0,l=o.length;e<l;e++){var a=o[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}for(t();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()}));else for(t();s.AMapUI.length;)s.AMapUI.splice(0,1)[0]()},u.appendChild(d)}else i.AMapUI===a.loaded?e.version&&e.version!==n.AMapUI.version?l("不允许多个版本 AMapUI 混用"):o.length?window.AMapUI.loadUI(o,(function(){for(var e=0,l=o.length;e<l;e++){var a=o[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}t()})):t():e.version&&e.version!==n.AMapUI.version?l("不允许多个版本 AMapUI 混用"):s.AMapUI.push((function(e){e?l(e):o.length?window.AMapUI.loadUI(o,(function(){for(var e=0,l=o.length;e<l;e++){var a=o[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}t()})):t()}))}))}function l(e){return new Promise((function(t,l){if(i.Loca===a.failed)l("前次请求 Loca 失败");else if(i.Loca===a.notload){i.Loca=a.loading,n.Loca.version=e.version||n.Loca.version;var o=n.Loca.version,r=n.AMap.version.startsWith("2"),u=o.startsWith("2");if(r&&!u||!r&&u)l("JSAPI 与 Loca 版本不对应！！");else{r=n.key,u=document.body||document.head;var d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+o+"&key="+r,d.onerror=function(e){i.Loca=a.failed,l("请求 AMapUI 失败")},d.onload=function(){for(i.Loca=a.loaded,t();s.Loca.length;)s.Loca.splice(0,1)[0]()},u.appendChild(d)}}else i.Loca===a.loaded?e.version&&e.version!==n.Loca.version?l("不允许多个版本 Loca 混用"):t():e.version&&e.version!==n.Loca.version?l("不允许多个版本 Loca 混用"):s.Loca.push((function(e){e?l(e):l()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a,o;(o=a||(a={})).notload="notload",o.loading="loading",o.loaded="loaded",o.failed="failed";var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},s={AMap:[],AMapUI:[],Loca:[]},r=[],u=function(e){"function"==typeof e&&(i.AMap===a.loaded?e(window.AMap):r.push(e))};return{load:function(t){return new Promise((function(l,o){if(i.AMap==a.failed)o("");else if(i.AMap==a.notload){var s=t.key,d=t.version,c=t.plugins;s?(window.AMap&&"lbs.amap.com"!==location.host&&o("禁止多种API加载方式混用"),n.key=s,n.AMap.version=d||n.AMap.version,n.AMap.plugins=c||n.AMap.plugins,i.AMap=a.loading,d=document.body||document.head,window.___onAPILoaded=function(n){if(delete window.___onAPILoaded,n)i.AMap=a.failed,o(n);else for(i.AMap=a.loaded,e(t).then((function(){l(window.AMap)})).catch(o);r.length;)r.splice(0,1)[0]()},(c=document.createElement("script")).type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+s+"&plugin="+n.AMap.plugins.join(","),c.onerror=function(e){i.AMap=a.failed,o(e)},d.appendChild(c)):o("请填写key")}else if(i.AMap==a.loaded)if(t.key&&t.key!==n.key)o("多个不一致的 key");else if(t.version&&t.version!==n.AMap.version)o("不允许多个版本 JSAPI 混用");else{if(s=[],t.plugins)for(d=0;d<t.plugins.length;d+=1)-1==n.AMap.plugins.indexOf(t.plugins[d])&&s.push(t.plugins[d]);s.length?window.AMap.plugin(s,(function(){e(t).then((function(){l(window.AMap)})).catch(o)})):e(t).then((function(){l(window.AMap)})).catch(o)}else if(t.key&&t.key!==n.key)o("多个不一致的 key");else if(t.version&&t.version!==n.AMap.version)o("不允许多个版本 JSAPI 混用");else{var p=[];if(t.plugins)for(d=0;d<t.plugins.length;d+=1)-1==n.AMap.plugins.indexOf(t.plugins[d])&&p.push(t.plugins[d]);u((function(){p.length?window.AMap.plugin(p,(function(){e(t).then((function(){l(window.AMap)})).catch(o)})):e(t).then((function(){l(window.AMap)})).catch(o)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},i={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},s={AMap:[],AMapUI:[],Loca:[]}}}}();const el=Zt,tl={class:"map-container"},ll=k("strong",null,"经度：",-1),al=k("strong",{class:"ml-3"}," 纬度：",-1),ol=k("strong",null,"地址：",-1),nl=k("div",{id:"map"},null,-1),il=r({__name:"index",props:{lng:{type:Number,required:!0,default:116.397428},lat:{type:Number,require:!0,default:39.90923}},setup(e){const t=e,l=d(null),a=d(""),o=d([116.397428,39.90923]);return b((()=>{null!==t.lat&&null!==t.lng&&(o.value=[t.lng,t.lat]),el.load({key:"b8fdf4fcb8c3449e4d3ef4e1a0172552",version:"2.0",plugins:["AMap.Geolocation","AMap.Geocoder"]}).then((e=>{var n;l.value=new e.Map("map",{center:o.value,zoom:13});new e.Geocoder({city:"全国",radius:1e3}).getAddress([t.lng,t.lat],((e,t)=>{"complete"===e&&t.regeocode&&(a.value=t.regeocode.formattedAddress)}));const i=new e.Marker({position:new e.LngLat(116.39,39.9),title:"打卡"});null==(n=l.value)||n.add(i),l.value.zoom=18}))})),(e,l)=>(V(),C("div",tl,[k("p",null,[ll,de(T(t.lng||"还未打卡")+" ",1),al,de(" "+T(t.lat||"还未打卡"),1)]),k("p",null,[ol,de(T(a.value||"还未打卡"),1)]),nl]))}}),sl={class:"app-container"},rl=k("span",{class:"i-carbon-task-view mr-1"},null,-1),ul=k("span",{class:"i-ph-pencil-line-light mr-1"},null,-1),dl=k("h4",{class:"mt-2"}," 打卡地点 ",-1),cl=r({name:"VxeTable"}),pl=r({...cl,setup(e){const t=d(),l=d(!1),a=d(!1),o=d(),n=d([]),i=c({startTime:"",endTime:""}),s=new Date(2e3,1,1,12,0,0),r=d(null),u=d(),m=[{id:0,label:"正常",status:0},{id:1,label:"未打卡",status:1},{id:2,label:"迟到",status:2},{id:3,label:"早退",status:3},{id:4,label:"时长不够",status:4},{id:5,label:"请假",status:5},{id:6,label:"加班",status:6},{id:7,label:"补办工时",status:7}],v=[{id:0,value:"正常",type:"success"},{id:1,value:"未打卡",type:"danger"},{id:2,value:"迟到",type:"danger"},{id:3,value:"早退",type:"danger"},{id:4,value:"时长不够",type:"danger"},{id:5,value:"请假",type:"warning"},{id:6,value:"加班",type:"info"},{id:7,value:"补办工时",type:""}],f=[{text:"上一周",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:"上个月",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"三月前",value:()=>{const e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}],h=()=>{i.startTime=n.value[0]?ce(n.value[0],"YYYY-MM-DD HH:mm:ss").value:"",i.endTime=n.value[1]?ce(n.value[1],"YYYY-MM-DD HH:mm:ss").value:""},g=async e=>{var a;l.value=!0;const n=c({username:e||(null==(a=o.value)?void 0:a.username)||"",size:20,current:0}),{data:i}=await Ve(n);l.value=!1,t.value=i.records.map((e=>({id:e.id,label:e.username,value:e})))};b((()=>{g("")}));const y=d(),w=d(),S=d(),I=c({title:"",showClose:!0,escClosable:!0,maskClosable:!0,beforeHideMethod:()=>{var e;return null==(e=w.value)||e.clearValidate(),Promise.resolve()}}),M=c({loading:!0,border:!0,autoResize:!0,showHeaderOverflow:!0,showOverflow:!0,keepSource:!0,columnConfig:{resizable:!0},pagerConfig:{align:"right"},printConfig:{columns:[{field:"username"},{field:"phoneNum"},{field:"roles"},{field:"avatar"}]},formConfig:{items:[{field:"username",slots:{default:"userName_item"}},{field:"status",slots:{default:"status_item"}},{field:"startTime",slots:{default:"startTime_item"}},{itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"查询",status:"primary"}}]}}]},toolbarConfig:{refresh:!0,custom:!0,export:!0,print:!0,zoom:!0},customConfig:{checkMethod:({column:e})=>!["username"].includes(e.field)},exportConfig:{modes:["current","selected","all"]},columns:[{type:"seq",width:"50px",title:"序号"},{field:"user.username",title:"用户名",width:"80px"},{field:"signInTime",title:"签到时间"},{field:"signOutTime",title:"签退时间"},{field:"workTime",title:"工作时长（小时）"},{field:"createTime",title:"打卡日期"},{field:"status",width:"80px",title:"状态",slots:{default:"row-status"}},{title:"操作",width:"200px",fixed:"right",showOverflow:!1,slots:{default:"row-operate"}}],proxyConfig:{seq:!0,form:!0,props:{total:"total"},ajax:{query:({page:e,form:t})=>(M.loading=!0,O.clearTable(),new Promise((t=>{var l;let a=0,n=[];const s=e=>{if(e&&e.data){const t=e.data;Number.isInteger(t.total)&&(a=t.total),Array.isArray(t.records)&&(n=t.records)}M.loading=!1,t({total:a,result:n})};(function(e){return re({url:"sys-check/list",method:"get",params:e})})({userId:(null==(l=o.value)?void 0:l.id)||"",startTime:i.startTime||"",endTime:i.endTime||"",status:r.value,size:e.pageSize,current:e.currentPage}).then(s).catch(s)})))}}}),A=c({span:24,titleWidth:"100px",loading:!1,titleColon:!1,data:{id:"",username:"",userId:"",createTime:"",addTime:0,overTime:0,status:7,des:"管理员操作：工时补加"},items:[{field:"username",title:"用户名",itemRender:{name:"$input",props:{placeholder:"请输入用户名"}}},{field:"createTime",title:"打卡日期",itemRender:{name:"$input",props:{placeholder:"请输入打卡日期"}}},{field:"addTime",title:"补加工时(h)",itemRender:{name:"$input",props:{placeholder:"请输入补充工时"}}},{field:"overTime",title:"加班时长(h)",itemRender:{name:"$input",props:{placeholder:"请输入加班时长"}}},{align:"right",itemRender:{name:"$buttons",children:[{props:{content:"取消"},events:{click:()=>{var e;return null==(e=S.value)?void 0:e.close()}}},{props:{type:"submit",content:"确定",status:"primary"},events:{click:()=>O.onSubmitForm()}}]}}],rules:{addTime:[{validator:({itemValue:e})=>e?Te(e)?void 0:new Error("请输入数字"):new Error("请输入补加工时")}],overTime:[{validator:({itemValue:e})=>e?Te(e)?void 0:new Error("请输入数字"):new Error("请输入加班时长")}]}}),O=c({isUpdate:!0,commitQuery:()=>{var e;return null==(e=y.value)?void 0:e.commitProxy("query")},clearTable:()=>{var e;return null==(e=y.value)?void 0:e.reloadData([])},onShowModal:e=>{var t,l,a,o,n;e&&(O.isUpdate=!0,I.title="修改考勤数据",A.data.id=e.id,A.data.username=e.user.username,A.data.userId=e.user.id,A.data.addTime=e.addTime||0,A.data.overTime=e.overTime||0,A.data.createTime=e.createTime),A.items&&((null==(l=null==(t=A.items[0])?void 0:t.itemRender)?void 0:l.props)&&(A.items[0].itemRender.props.disabled=O.isUpdate),(null==(o=null==(a=A.items[1])?void 0:a.itemRender)?void 0:o.props)&&(A.items[1].itemRender.props.disabled=O.isUpdate)),null==(n=S.value)||n.open(),x((()=>{var e,t;!O.isUpdate&&(null==(e=w.value)||e.reset()),null==(t=w.value)||t.clearValidate()}))},onShowDialog:e=>{a.value=!0,u.value=e},onSubmitForm:()=>{var e;A.loading||null==(e=w.value)||e.validate((e=>{if(e)return;A.loading=!0;const t=e=>{var t;A.loading=!1,200===e.code&&(null==(t=S.value)||t.close(),pe.success("操作成功"),!O.isUpdate&&O.afterInsert(),O.commitQuery())};var l;O.isUpdate&&(l=A.data,re({url:"sys-check/admin/edit",method:"put",data:l})).then((e=>t(e))).catch((e=>t(e))),A.data={}}))},afterInsert:()=>{var e,t;const l=null==(t=null==(e=y.value)?void 0:e.getProxyInfo())?void 0:t.pager;if(l){l.currentPage*l.pageSize===l.total&&++l.currentPage}}});return(e,i)=>{var d,c;const b=Ie,x=Me,k=Xt,z=ye,E=be,L=Q("vxe-grid"),U=Q("vxe-form"),N=Q("vxe-modal"),D=he,B=Ae,j=ge,$=fe,W=me;return V(),C("div",sl,[_(L,R({ref_key:"xGridDom",ref:y},M),{userName_item:Z((()=>[_(x,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),"value-key":"id","remote-show-suffix":"",filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请输入员工的姓名","remote-method":g,loading:l.value},{default:Z((()=>[(V(!0),C(te,null,le(t.value,(e=>(V(),ae(b,{key:e.id,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","loading"])])),status_item:Z((()=>[_(k,{modelValue:r.value,"onUpdate:modelValue":i[1]||(i[1]=e=>r.value=e),options:m,placeholder:"请选择状态","value-key":"status"},null,8,["modelValue"])])),startTime_item:Z((()=>[_(z,{modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=e=>n.value=e),type:"datetimerange","start-placeholder":"开始时间","end-placeholder":"结束时间","default-time":p(s),shortcuts:f,"value-format":"YYYY-MM-DD HH:mm:ss",format:"YYYY-MM-DD HH:mm:ss","range-separator":"至",onChange:h},null,8,["modelValue","default-time"])])),"row-status":Z((({row:e})=>[_(Ce,{status:parseInt(e.status),"status-list":v},null,8,["status"])])),"row-operate":Z((({row:e})=>[_(E,{link:"",type:"primary",onClick:t=>O.onShowDialog(e)},{default:Z((()=>[rl,de(" 查看详情 ")])),_:2},1032,["onClick"]),_(E,{link:"",type:"danger",onClick:t=>O.onShowModal(e)},{default:Z((()=>[ul,de(" 编辑信息 ")])),_:2},1032,["onClick"])])),_:1},16),_(N,R({ref_key:"xModalDom",ref:S},I),{default:Z((()=>[_(U,R({ref_key:"xFormDom",ref:w},A),null,16)])),_:1},16),_(W,{modelValue:a.value,"onUpdate:modelValue":i[3]||(i[3]=e=>a.value=e),"destroy-on-close":"",title:`${null==(d=u.value)?void 0:d.user.username} ${p(ce)(null==(c=u.value)?void 0:c.createTime,"YYYY-MM-DD").value}考勤数据`,width:"600px",style:{"z-index":"10004 !important"}},{default:Z((()=>[_($,{height:"400px"},{default:Z((()=>{var e,t;return[_(j,{title:"员工信息",column:2,"label-align":"right"},{default:Z((()=>[_(D,{label:"姓名"},{default:Z((()=>{var e;return[de(T(null==(e=u.value)?void 0:e.user.username),1)]})),_:1}),_(D,{label:"手机号码"},{default:Z((()=>{var e;return[de(T(null==(e=u.value)?void 0:e.user.phoneNum),1)]})),_:1}),_(D,{label:"部门"},{default:Z((()=>[de(" Suzhou ")])),_:1}),_(D,{label:"职位"},{default:Z((()=>[_(B,{size:"small"},{default:Z((()=>[de(" School ")])),_:1})])),_:1})])),_:1}),a.value?(V(),ae(j,{key:0,title:"考勤数据",column:2,border:""},{default:Z((()=>[_(D,{label:"打卡日期"},{default:Z((()=>[de(T(u.value.createTime||"N/A"),1)])),_:1}),_(D,{label:"签到时间"},{default:Z((()=>[de(T(u.value.signInTime||"N/A"),1)])),_:1}),_(D,{label:"签退时间"},{default:Z((()=>[de(T(u.value.signOutTime||"N/A"),1)])),_:1}),_(D,{label:"工作时长"},{default:Z((()=>[de(T(u.value.workTime||0),1)])),_:1}),_(D,{label:"加班时长"},{default:Z((()=>[de(T(u.value.overTime||0),1)])),_:1}),_(D,{label:"补加时长"},{default:Z((()=>[de(T(u.value.addTime||0),1)])),_:1}),_(D,{label:"考勤日志"},{default:Z((()=>[de(T(u.value.des),1)])),_:1})])),_:1})):ee("",!0),dl,_(il,{lng:null==(e=u.value)?void 0:e.lon,lat:null==(t=u.value)?void 0:t.lat},null,8,["lng","lat"])]})),_:1})])),_:1},8,["modelValue","title"])])}}});export{pl as default};
