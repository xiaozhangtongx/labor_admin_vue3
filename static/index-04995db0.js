import{c as e,bn as t,u as o,cd as n,aN as s,U as a,w as d,bD as u,R as r,ce as l,S as i,c1 as c,b as m,d as p,e as y,K as b,q as f,Z as v}from"./index-ae4134a6.js";import{t as x}from"./event-538c9b76.js";import{a as E}from"./el-button-fa481a64.js";import{P as h}from"./vnode-e4ddce11.js";const k=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter((e=>M(e)&&(e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent)(e))),M=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},g=function(e,t,...o){let n;n=t.includes("mouse")||t.includes("click")?"MouseEvents":t.includes("key")?"KeyboardEvent":"HTMLEvents";const s=document.createEvent(n);return s.initEvent(t,...o),e.dispatchEvent(s),e},w=t=>["",...e].includes(t),C=(e,c={})=>{t(e)||x("[useLockscreen]","You need to pass a ref param to this function");const m=c.ns||o("popup"),p=n((()=>m.bm("parent","hidden")));if(!s||a(document.body,p.value))return;let y=0,b=!1,f="0";const v=()=>{setTimeout((()=>{i(null==document?void 0:document.body,p.value),b&&document&&(document.body.style.width=f)}),200)};d(e,(e=>{if(!e)return void v();b=!a(document.body,p.value),b&&(f=document.body.style.width),y=E(m.namespace.value);const t=document.documentElement.clientHeight<document.body.scrollHeight,o=u(document.body,"overflowY");y>0&&(t||"scroll"===o)&&b&&(document.body.style.width=`calc(100% - ${y}px)`),r(document.body,p.value)})),l((()=>v()))},T=e=>{if(!e)return{onClick:c,onMousedown:c,onMouseup:c};let t=!1,o=!1;return{onClick:n=>{t&&o&&e(n),t=o=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{o=e.target===e.currentTarget}}},S=m({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:p([String,Array,Object])},zIndex:{type:p([String,Number])}});const I=y({name:"ElOverlay",props:S,emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:t,emit:n}){const s=o("overlay"),{onClick:a,onMousedown:d,onMouseup:u}=T(e.customMaskEvent?void 0:e=>{n("click",e)});return()=>e.mask?b("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:d,onMouseup:u},[f(t,"default")],h.STYLE|h.CLASS|h.PROPS,["onClick","onMouseup","onMousedown"]):v("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[f(t,"default")])}});export{I as E,C as a,w as i,k as o,g as t,T as u};
