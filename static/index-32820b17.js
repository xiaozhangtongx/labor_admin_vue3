import{cw as e,c9 as t,b4 as a,aZ as n,a_ as o,cx as r,b2 as s,aX as l,cy as i,cz as u,cn as c,cA as p,aG as d,r as f,a7 as v,b,ba as y,g as m,i as h,a0 as x,V as g,d as w,br as j,bp as _,y as S,u as k,bk as z,aQ as A,cB as I,cC as C,Z as O,R as E,a2 as P,o as F,a3 as B,D as M,I as $,a as V,c as T,H as N,W as R,n as W,f as U,e as D,k as H,l as L,w as q,m as G,E as K,F as X,C as Z,aL as Q,G as J,bG as Y,q as ee,aa as te,_ as ae,a1 as ne,s as oe}from"./index-78956fcc.js";import{U as re,i as se,d as le}from"./event-15d81b97.js";import{u as ie}from"./index-746d99f4.js";import{a as ue,c as ce,b as pe,d as de}from"./el-button-4a1828ca.js";const fe=e(t,"WeakMap");var ve=9007199254740991;function be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ve}function ye(e){return null!=e&&be(e.length)&&!a(e)}var me=Object.prototype;function he(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||me)}var xe="[object Arguments]";function ge(e){return n(e)&&o(e)==xe}var we=Object.prototype,je=we.hasOwnProperty,_e=we.propertyIsEnumerable;const Se=ge(function(){return arguments}())?ge:function(e){return n(e)&&je.call(e,"callee")&&!_e.call(e,"callee")};var ke="object"==typeof exports&&exports&&!exports.nodeType&&exports,ze=ke&&"object"==typeof module&&module&&!module.nodeType&&module,Ae=ze&&ze.exports===ke?t.Buffer:void 0;const Ie=(Ae?Ae.isBuffer:void 0)||function(){return!1};var Ce={};function Oe(e){return function(t){return e(t)}}Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1;var Ee="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pe=Ee&&"object"==typeof module&&module&&!module.nodeType&&module,Fe=Pe&&Pe.exports===Ee&&r.process;const Be=function(){try{var e=Pe&&Pe.require&&Pe.require("util").types;return e||Fe&&Fe.binding&&Fe.binding("util")}catch(t){}}();var Me=Be&&Be.isTypedArray;const $e=Me?Oe(Me):function(e){return n(e)&&be(e.length)&&!!Ce[o(e)]};var Ve=Object.prototype.hasOwnProperty;function Te(e,t){var a=s(e),n=!a&&Se(e),o=!a&&!n&&Ie(e),r=!a&&!n&&!o&&$e(e),i=a||n||o||r,u=i?function(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}(e.length,String):[],c=u.length;for(var p in e)!t&&!Ve.call(e,p)||i&&("length"==p||o&&("offset"==p||"parent"==p)||r&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||l(p,c))||u.push(p);return u}function Ne(e,t){return function(a){return e(t(a))}}const Re=Ne(Object.keys,Object);var We=Object.prototype.hasOwnProperty;function Ue(e){return ye(e)?Te(e):function(e){if(!he(e))return Re(e);var t=[];for(var a in Object(e))We.call(e,a)&&"constructor"!=a&&t.push(a);return t}(e)}function De(e,t){for(var a=-1,n=t.length,o=e.length;++a<n;)e[o+a]=t[a];return e}var He=200;function Le(e){var t=this.__data__=new i(e);this.size=t.size}function qe(){return[]}Le.prototype.clear=function(){this.__data__=new i,this.size=0},Le.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},Le.prototype.get=function(e){return this.__data__.get(e)},Le.prototype.has=function(e){return this.__data__.has(e)},Le.prototype.set=function(e,t){var a=this.__data__;if(a instanceof i){var n=a.__data__;if(!u||n.length<He-1)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new c(n)}return a.set(e,t),this.size=a.size,this};var Ge=Object.prototype.propertyIsEnumerable,Ke=Object.getOwnPropertySymbols;const Xe=Ke?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var a=-1,n=null==e?0:e.length,o=0,r=[];++a<n;){var s=e[a];t(s,a,e)&&(r[o++]=s)}return r}(Ke(e),(function(t){return Ge.call(e,t)})))}:qe;function Ze(e,t,a){var n=t(e);return s(e)?n:De(n,a(e))}function Qe(e){return Ze(e,Ue,Xe)}const Je=e(t,"DataView");const Ye=e(t,"Promise");const et=e(t,"Set");var tt="[object Map]",at="[object Promise]",nt="[object Set]",ot="[object WeakMap]",rt="[object DataView]",st=p(Je),lt=p(u),it=p(Ye),ut=p(et),ct=p(fe),pt=o;(Je&&pt(new Je(new ArrayBuffer(1)))!=rt||u&&pt(new u)!=tt||Ye&&pt(Ye.resolve())!=at||et&&pt(new et)!=nt||fe&&pt(new fe)!=ot)&&(pt=function(e){var t=o(e),a="[object Object]"==t?e.constructor:void 0,n=a?p(a):"";if(n)switch(n){case st:return rt;case lt:return tt;case it:return at;case ut:return nt;case ct:return ot}return t});const dt=pt;const ft=t.Uint8Array,vt=()=>d&&/firefox/i.test(window.navigator.userAgent),bt=e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e);let yt;const mt=`\n  height:0 !important;\n  visibility:hidden !important;\n  ${vt()?"":"overflow:hidden !important;"}\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`,ht=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function xt(e,t=1,a){var n;yt||(yt=document.createElement("textarea"),document.body.appendChild(yt));const{paddingSize:o,borderSize:r,boxSizing:s,contextStyle:l}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),o=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:ht.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:n,borderSize:o,boxSizing:a}}(e);yt.setAttribute("style",`${l};${mt}`),yt.value=e.value||e.placeholder||"";let i=yt.scrollHeight;const u={};"border-box"===s?i+=r:"content-box"===s&&(i-=o),yt.value="";const c=yt.scrollHeight-o;if(v(t)){let e=c*t;"border-box"===s&&(e=e+o+r),i=Math.max(e,i),u.minHeight=`${e}px`}if(v(a)){let e=c*a;"border-box"===s&&(e=e+o+r),i=Math.min(e,i)}return u.height=`${i}px`,null==(n=yt.parentNode)||n.removeChild(yt),yt=void 0,u}const gt=b({id:{type:String,default:void 0},size:y,disabled:Boolean,modelValue:{type:m([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:m([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:h},prefixIcon:{type:h},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:m([Object,Array,String]),default:()=>x({})}}),wt={[re]:e=>g(e),input:e=>g(e),change:e=>g(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},jt=["role"],_t=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],St=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],kt=w({name:"ElInput",inheritAttrs:!1});const zt=oe(ae(w({...kt,props:gt,emits:wt,setup(e,{expose:t,emit:a}){const n=e,o=j(),r=_(),s=S((()=>{const e={};return"combobox"===n.containerRole&&(e["aria-haspopup"]=o["aria-haspopup"],e["aria-owns"]=o["aria-owns"],e["aria-expanded"]=o["aria-expanded"]),e})),l=S((()=>["textarea"===n.type?h.b():m.b(),m.m(b.value),m.is("disabled",y.value),m.is("exceed",Ie.value),{[m.b("group")]:r.prepend||r.append,[m.bm("group","append")]:r.append,[m.bm("group","prepend")]:r.prepend,[m.m("prefix")]:r.prefix||n.prefixIcon,[m.m("suffix")]:r.suffix||n.suffixIcon||n.clearable||n.showPassword,[m.bm("suffix","password-clear")]:Se.value&&ke.value},o.class])),i=S((()=>[m.e("wrapper"),m.is("focus",w.value)])),u=ie({excludeKeys:S((()=>Object.keys(s.value)))}),{form:c,formItem:p}=ue(),{inputId:v}=ce(n,{formItemContext:p}),b=pe(),y=de(),m=k("input"),h=k("textarea"),x=z(),g=z(),w=f(!1),ae=f(!1),oe=f(!1),fe=f(!1),ve=f(),be=z(n.inputStyle),ye=S((()=>x.value||g.value)),me=S((()=>{var e;return null!=(e=null==c?void 0:c.statusIcon)&&e})),he=S((()=>(null==p?void 0:p.validateState)||"")),xe=S((()=>he.value&&A[he.value])),ge=S((()=>fe.value?I:C)),we=S((()=>[o.style,n.inputStyle])),je=S((()=>[n.inputStyle,be.value,{resize:n.resize}])),_e=S((()=>se(n.modelValue)?"":String(n.modelValue))),Se=S((()=>n.clearable&&!y.value&&!n.readonly&&!!_e.value&&(w.value||ae.value))),ke=S((()=>n.showPassword&&!y.value&&!n.readonly&&!!_e.value&&(!!_e.value||w.value))),ze=S((()=>n.showWordLimit&&!!u.value.maxlength&&("text"===n.type||"textarea"===n.type)&&!y.value&&!n.readonly&&!n.showPassword)),Ae=S((()=>_e.value.length)),Ie=S((()=>!!ze.value&&Ae.value>Number(u.value.maxlength))),Ce=S((()=>!!r.suffix||!!n.suffixIcon||Se.value||n.showPassword||ze.value||!!he.value&&me.value)),[Oe,Ee]=function(e){const t=f();return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:n,value:o}=e.value;if(null==a||null==n)return;const r=o.slice(0,Math.max(0,a)),s=o.slice(Math.max(0,n));t.value={selectionStart:a,selectionEnd:n,value:o,beforeTxt:r,afterTxt:s}},function(){if(null==e.value||null==t.value)return;const{value:a}=e.value,{beforeTxt:n,afterTxt:o,selectionStart:r}=t.value;if(null==n||null==o||null==r)return;let s=a.length;if(a.endsWith(o))s=a.length-o.length;else if(a.startsWith(n))s=n.length;else{const e=n[r-1],t=a.indexOf(e,r-1);-1!==t&&(s=t+1)}e.value.setSelectionRange(s,s)}]}(x);O(g,(e=>{if(!ze.value||"both"!==n.resize)return;const t=e[0],{width:a}=t.contentRect;ve.value={right:`calc(100% - ${a+15+6}px)`}}));const Pe=()=>{const{type:e,autosize:t}=n;if(d&&"textarea"===e&&g.value)if(t){const e=ne(t)?t.minRows:void 0,a=ne(t)?t.maxRows:void 0;be.value={...xt(g.value,e,a)}}else be.value={minHeight:xt(g.value).minHeight}},Fe=()=>{const e=ye.value;e&&e.value!==_e.value&&(e.value=_e.value)},Be=async e=>{Oe();let{value:t}=e.target;n.formatter&&(t=n.parser?n.parser(t):t,t=n.formatter(t)),oe.value||(t!==_e.value?(a(re,t),a("input",t),await P(),Fe(),Ee()):Fe())},Me=e=>{a("change",e.target.value)},$e=e=>{a("compositionstart",e),oe.value=!0},Ve=e=>{var t;a("compositionupdate",e);const n=null==(t=e.target)?void 0:t.value,o=n[n.length-1]||"";oe.value=!bt(o)},Te=e=>{a("compositionend",e),oe.value&&(oe.value=!1,Be(e))},Ne=()=>{fe.value=!fe.value,Re()},Re=async()=>{var e;await P(),null==(e=ye.value)||e.focus()},We=e=>{w.value=!0,a("focus",e)},Ue=e=>{var t;w.value=!1,a("blur",e),n.validateEvent&&(null==(t=null==p?void 0:p.validate)||t.call(p,"blur").catch((e=>le())))},De=e=>{ae.value=!1,a("mouseleave",e)},He=e=>{ae.value=!0,a("mouseenter",e)},Le=e=>{a("keydown",e)},qe=()=>{a(re,""),a("change",""),a("clear"),a("input","")};return E((()=>n.modelValue),(()=>{var e;P((()=>Pe())),n.validateEvent&&(null==(e=null==p?void 0:p.validate)||e.call(p,"change").catch((e=>le())))})),E(_e,(()=>Fe())),E((()=>n.type),(async()=>{await P(),Fe(),Pe()})),F((()=>{!n.formatter&&n.parser,Fe(),P(Pe)})),t({input:x,textarea:g,ref:ye,textareaStyle:je,autosize:B(n,"autosize"),focus:Re,blur:()=>{var e;return null==(e=ye.value)?void 0:e.blur()},select:()=>{var e;null==(e=ye.value)||e.select()},clear:qe,resizeTextarea:Pe}),(e,t)=>M((V(),T("div",X(U(s),{class:U(l),style:U(we),role:e.containerRole,onMouseenter:He,onMouseleave:De}),[N(" input "),"textarea"!==e.type?(V(),T(R,{key:0},[N(" prepend slot "),e.$slots.prepend?(V(),T("div",{key:0,class:W(U(m).be("group","prepend"))},[D(e.$slots,"prepend")],2)):N("v-if",!0),H("div",{class:W(U(i))},[N(" prefix slot "),e.$slots.prefix||e.prefixIcon?(V(),T("span",{key:0,class:W(U(m).e("prefix"))},[H("span",{class:W(U(m).e("prefix-inner")),onClick:Re},[D(e.$slots,"prefix"),e.prefixIcon?(V(),L(U(K),{key:0,class:W(U(m).e("icon"))},{default:q((()=>[(V(),L(G(e.prefixIcon)))])),_:1},8,["class"])):N("v-if",!0)],2)],2)):N("v-if",!0),H("input",X({id:U(v),ref_key:"input",ref:x,class:U(m).e("inner")},U(u),{type:e.showPassword?fe.value?"text":"password":e.type,disabled:U(y),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:n.form,onCompositionstart:$e,onCompositionupdate:Ve,onCompositionend:Te,onInput:Be,onFocus:We,onBlur:Ue,onChange:Me,onKeydown:Le}),null,16,_t),N(" suffix slot "),U(Ce)?(V(),T("span",{key:1,class:W(U(m).e("suffix"))},[H("span",{class:W(U(m).e("suffix-inner")),onClick:Re},[U(Se)&&U(ke)&&U(ze)?N("v-if",!0):(V(),T(R,{key:0},[D(e.$slots,"suffix"),e.suffixIcon?(V(),L(U(K),{key:0,class:W(U(m).e("icon"))},{default:q((()=>[(V(),L(G(e.suffixIcon)))])),_:1},8,["class"])):N("v-if",!0)],64)),U(Se)?(V(),L(U(K),{key:1,class:W([U(m).e("icon"),U(m).e("clear")]),onMousedown:J(U(Y),["prevent"]),onClick:qe},{default:q((()=>[Z(U(Q))])),_:1},8,["class","onMousedown"])):N("v-if",!0),U(ke)?(V(),L(U(K),{key:2,class:W([U(m).e("icon"),U(m).e("password")]),onClick:Ne},{default:q((()=>[(V(),L(G(U(ge))))])),_:1},8,["class"])):N("v-if",!0),U(ze)?(V(),T("span",{key:3,class:W(U(m).e("count"))},[H("span",{class:W(U(m).e("count-inner"))},ee(U(Ae))+" / "+ee(U(u).maxlength),3)],2)):N("v-if",!0),U(he)&&U(xe)&&U(me)?(V(),L(U(K),{key:4,class:W([U(m).e("icon"),U(m).e("validateIcon"),U(m).is("loading","validating"===U(he))])},{default:q((()=>[(V(),L(G(U(xe))))])),_:1},8,["class"])):N("v-if",!0)],2)],2)):N("v-if",!0)],2),N(" append slot "),e.$slots.append?(V(),T("div",{key:1,class:W(U(m).be("group","append"))},[D(e.$slots,"append")],2)):N("v-if",!0)],64)):(V(),T(R,{key:1},[N(" textarea "),H("textarea",X({id:U(v),ref_key:"textarea",ref:g,class:U(h).e("inner")},U(u),{tabindex:e.tabindex,disabled:U(y),readonly:e.readonly,autocomplete:e.autocomplete,style:U(je),"aria-label":e.label,placeholder:e.placeholder,form:n.form,onCompositionstart:$e,onCompositionupdate:Ve,onCompositionend:Te,onInput:Be,onFocus:We,onBlur:Ue,onChange:Me,onKeydown:Le}),null,16,St),U(ze)?(V(),T("span",{key:0,style:te(ve.value),class:W(U(m).e("count"))},ee(U(Ae))+" / "+ee(U(u).maxlength),7)):N("v-if",!0)],64))],16,jt)),[[$,"hidden"!==e.type]])}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]));export{zt as E,Le as S,ft as U,bt as a,ye as b,Ie as c,$e as d,Se as e,be as f,De as g,Qe as h,vt as i,dt as j,Ue as k,he as l,Te as m,Xe as n,Ne as o,Ze as p,Be as q,Oe as r,qe as s};
